[{"categories":null,"contents":"Data Scientist, R\u0026amp;D and Mathematician  ayush.subedi@gmail.com | 9860909101\n  Eight years experience in R\u0026amp;D and data science A penchant for solving unstructured and non-standard mathematical problems Researcher, architect, and developer with a product and user mindset Passionate about mentoring junior team members Technical leader fostering the significance of research in software and market Attentive self-starter, great communicator, and personally empowered  Skills / Tools  Languages – Python, Java, R, JavaScript, Bash Databases – MySQL, SQLite, MongoDB, PostgreSQL, Firebase, Realm Data Viz – D3.js, Tableau, Google Data Studio, Plotly, Highcharts, Seaborn, Bokeh Data Analysis – Python data analysis stack (numpy, pandas, matplotlib) Machine Learning – Scikit-learn, FB Prophet, Keras, Tensorflow, PyTorch Framework – Flask, Fast API  Education Loras College, Dubuque-IA, USA\nB.S. in Computer Science\nB.S. in Mathematics\nCumulative GPA: 3.8402\nAugust 2013\nExperience Moonlit Solutions, Nepal\nData Scientist, Tech Lead, Cofounder, June 2019 – Present\nWorld Bank, Nepal\nData Science Consultant, June 2019 – Present\nBritish College, Nepal\nVisiting Lecturer, Data Science, Sept 2019 – Present\nISMT College, Nepal\nVisiting Lecturer, Data Structures and Algorithms, Feb 2019 – Sept 2019\nTootle, Nepal\nChief Technology Officer, Chief Data Scientist, Mar 2016 – Oct 2018\nThree60 Consulting, Nepal\nSenior R\u0026amp;D Engineer, Team Lead, Android Developer, Oct 2013 – May 2016\nPublications Use of ICT in Classrooms in Nepal; A study of Student-Centered Learning using ICT\nSKIMA 2015 December 16, 2015 (Publication link)\n","date":"2020-09-05T17:12:41+05:45","permalink":"https://subedi.ml/about/","section":"","tags":null,"title":"Resume"},{"categories":["Teaching Materials"],"contents":"","date":"2020-07-11T10:02:00+05:45","permalink":"https://subedi.ml/posts/ames_housing/","section":"posts","tags":[""],"title":"Ames Housing"},{"categories":["Moonlit"],"contents":"","date":"2020-07-03T06:18:16+05:45","permalink":"https://subedi.ml/posts/synthetic_data_harvesting/","section":"posts","tags":[""],"title":"Synthetic Data Generation"},{"categories":["Moonlit"],"contents":"1 million seconds equal 11.5 days, whereas 1 billion seconds equal 31.75 years. Very large numbers are baffling to us, humans. From an evolutionary point of view, we never had to deal with anything colossal. With the recent news of Amazon boss Jeff Bezos now being worth about as much as New Zealand’s economy, it is quite interesting to see how he compares to rest of the celebrities we consider rich. It is absolutely shocking that the wealth difference between Elon Musk and YOU is smaller than between Elon Musk and Jeff Bezos.\n var divElement = document.getElementById('viz1599480108593'); var vizElement = divElement.getElementsByTagName('object')[0]; vizElement.style.width='750px';vizElement.style.height='904px'; var scriptElement = document.createElement('script'); scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js'; vizElement.parentNode.insertBefore(scriptElement, vizElement); ","date":"2020-07-01T10:09:16+05:45","permalink":"https://subedi.ml/posts/bezos/","section":"posts","tags":["tableau","viz"],"title":"You vs Bezos - Weber Fencher law"},{"categories":["Moonlit"],"contents":"","date":"2020-06-01T12:12:12+05:45","permalink":"https://subedi.ml/posts/devs_in_nepal/","section":"posts","tags":[""],"title":"Devs in Nepal"},{"categories":["Moonlit"],"contents":"","date":"2020-03-01T04:09:44+05:45","permalink":"https://subedi.ml/posts/cheers_analysis/","section":"posts","tags":[""],"title":"Cheers Hospital Analysis"},{"categories":["World Bank"],"contents":"","date":"2020-01-03T09:45:16+05:45","permalink":"https://subedi.ml/posts/data_in_news/","section":"posts","tags":[""],"title":"Data in News"},{"categories":["World Bank"],"contents":"","date":"2019-12-31T08:00:10+05:45","permalink":"https://subedi.ml/posts/nepal_data_literacy/","section":"posts","tags":[""],"title":"Nepal Data Literacy Program"},{"categories":["World Bank"],"contents":"","date":"2019-12-05T09:09:55+05:45","permalink":"https://subedi.ml/posts/solveathon_nepal/","section":"posts","tags":[""],"title":"Solveathon Nepal 2019"},{"categories":["World Bank"],"contents":"","date":"2019-12-01T08:06:19+05:45","permalink":"https://subedi.ml/posts/evidence_better_policy/","section":"posts","tags":[""],"title":"Evidence for better policy"},{"categories":["Participations"],"contents":"","date":"2019-11-05T08:05:11+05:45","permalink":"https://subedi.ml/posts/british_ai_conference/","section":"posts","tags":[""],"title":"British College AI Conference"},{"categories":["Moonlit"],"contents":"","date":"2019-11-05T07:36:19+05:45","permalink":"https://subedi.ml/posts/melting_glaciers/","section":"posts","tags":[""],"title":"Melting Glaciers of Nepal"},{"categories":["Trove"],"contents":"","date":"2019-09-01T09:16:00+05:45","permalink":"https://subedi.ml/posts/trove_summary/","section":"posts","tags":[""],"title":"Trove Summary"},{"categories":["Trove"],"contents":"After releasing Trove, our inboxes and DMs flooded with questions pertaining to the underlying architecture of Trove, and most importantly, about DAaps (Decentralized Apps) and the Blockstack platform. The purpose of this post is to answer those burning questions and to take you on a journey of figuring all of this out ourselves. The engineers @Trove have strong understanding and experience of centralized applications. We followed the decentralized space, and also built small prototypes in Blockstack and Ethereum platforms. But, Trove is our first endeavour to create a full end-to-end Decentralized Application from scratch. We had questions. Actually, a lot of them.\nProof of Concept A proof of concept entails investigating to be convinced of an idea. In our case, the idea was a bookmark manager. However, we also had to deep dive into the Blockstack platform to get a gist of the second part of our idea, i.e., decentralization. We started with a very very simple decentralized app.\nWe quickly put together a decentralized app that allowed users to save their favorite words. Although the app does not make sense from a usability perspective, and might be hilarious to even think about deploying it to production, it helped answer a lot of our questions:\nHow will the users login/signup to use the app? The users will create an ID with Blockstack. The ID will be used to sign in all apps in the Blockstack ecosystem.\nWhere is the data stored? By default, when an ID is created in Blockstack, each user ID is also issued some storage space. This storage system is called Gaia. The primary purpose of Gaia is to store any relevant data for the apps that the user uses in the Blockstack ecosystem. However, Blockstack also allows users to choose their own Gaia hub and to configure the back-end provider to store data with. Learn more here.\nHow is the data stored in Gaia? Gaia is not a DBMS. The data for an app is stored in one or many text format files (JSON) within the app’s hub in Gaia.\nIs it encrypted? This depends on the developers. The developers can choose whether or not a file should be encrypted. For our case, the words in the proof of concept app were encrypted and the bookmarks for Trove are encrypted as well.\nHow is it decentralized? One of the most common questions we have been receiving is regarding decentralization. Several users new to the Blockstack ecosystem have asked, “If all of my bookmarks are in the same place, how is it decentralized?”. Well, there are a few ways of thinking about this. From the perspective of the developers, all of the data pertaining to the app are scattered in several Gaia storage all over. There is no possible way for the makers of an app to have all of the data of all of the users in a centralized repository. This makes it decentralized. Also, no central repository implies no machine learning algorithm tinkering to garner patterns and trends on collective data.\nNow, can we now build a MVP for our purposes? Yes. At this point, we had a better understanding of the approach to make Trove possible and optimized to leverage on Blockstack and Gaia. Moreover, we realized that a bookmark manager would be an ideal exploration for this platform because bookmarks are sacred to a specific user, and they are not normally shared. We might eventually work on the functionality of publicly shared bookmarks in the future if our users request it.\nProduct Specification and Minimum Viable Product The team collectively decided to pursue these functionalities for the first version of the app:\n CRUD bookmarks CRUD buckets/categories for bookmarks CRUD tags Favorite bookmarks Archive bookmarks Archive buckets/categories Extract meta tags of bookmarks Extract HTML body of bookmarks for Read Mode (Parked for future version of the app) Extract keywords from bookmarks (Parked for future version of the app) Filter using buckets/categories, tags, favourites Search Browser extensions  Architecture How are the files stored in Gaia for Trove?\nEvery Trove user has three files associated with their Gaia hub to store bookmark, collections and archived objects. This schema is also backward compatible. Backward compatibility is a major issue with Gaia because schema changes in the future to incorporate any other features where we do not have access to user’s Gaia (by definition), is a major constraint and therefore needs precautions. **If we were to add Read Mode in the future (which will have massive content and makes no sense to be stored inside bookmark object anyway), it can be stored on a separate file {bookmark_id}.json and referenced with the id. This implies, in the future, a user will have 3+ files, while everything remains maintainable, compatible and scalable. A randomly generated id in base 36 (0–9, a-z) with a length of 9 is used for each category and each bookmark. The probability of collision for a user limits to 0 (1/36⁹). This decision was made so that ids can be assigned on the go without having to keep track of array sizes for incremental ids. When a bookmark is created, and assigned to a category, the bookmark object stores the id of the category and not the name. This referential association allows for seamless category name edits. For the sake of blog post brevity, we are leaving out a lot of the trivial implementation that is common with centralized architecture design pattern (archive, tags, filter, search etc). Extension\nWe initially started with one click bookmark save on our extension. This implied a seamless experience for the users. However, server-less comes with its limitation. In a centralized system, once the user clicked on the extension, we would have sent the URL to our back-end, scraped meta-tags and stored it in a database record referencing the user. We do not have the liberty here. The URL is sent to our open-sourced back-end for meta tag extraction, but that is all it does. It returns the response back to the extension, which does the rest. This implies a user would have to wait for a few seconds while:\n We collect meta tags from back-end Collect all bookmarks from Gaia Change 2 to an array Append response from back-end to the array Save array to Gaia as a JSON  Therefore, we decided to make it a two-step process. We are still researching on ways to make this part seamless to our users. URL Meta Extractor A simple Flask app using Newspaper package has been used for the purpose of URL extraction. The back-end extractor is open sourced at https://gitlab.com/trovenow/trovenow_url_parser. Use the app and tweet us ****for more clarification. We would love to hear your feedback. Also, please show your support by up-voting us here.\nFinal Version (v1) of Trove\n","date":"2019-06-30T08:06:19+05:45","permalink":"https://subedi.ml/posts/trove_architecture/","section":"posts","tags":["Blockchain"],"title":"Underlying Architecture of Trove"},{"categories":["Moonlit"],"contents":"Fraud Detection Research Items  Data Sets Relevant Papers Available Solutions Machine learning Pre-processing Features analysis Modelling Evaluation Suggested Solution  1. Data Sets The first step is to find fraud data sets for modeling purposes. Unfortunately, fraud data sets are really difficult to find publicly because of the confidential information that they contain. Listed below are some of the data sets found and notes on them.\nReal world data set from Kaggle (ULB)\nhttps://www.kaggle.com/mlg-ulb/creditcardfraud\nThe data set contains labelled credit card transactions labeled as fraudulent or genuine. Unfortunately, the column labels do not make sense because PCA has been applied for dimensional reduction. Therefore, it is very difficult to understand what each of the columns represent. Nonetheless, it is real world data. The data sets contains transactions made by credit cards in September 2013 by European cardholders. This data set presents transactions that occurred in two days, where we have 492 frauds out of 284,807 transactions. The data set is highly unbalanced, the positive class (frauds) account for 0.172% of all transactions.\nThis data set has been analysed and models have been created below in the document, with F1 score of 94%.\nSynthetic data set from Kaggle (NTNU)\nhttps://www.kaggle.com/ntnu-testimon/paysim1\nThe data set contains synthetic (created) transaction data. The advantage of using this data set is that PCA has not been pre-performed, thus allowing extraction of all useful information. However, the data set is scaled down to 1/4th of the original data set.\n2. Papers:    Link Title Summary     https://www.aaai.org/Papers/KDD/1998/KDD98-026.pdf Toward Scalable Learning with Non-uniform Class and Cost Distributions: A Case Study in Credit Card Fraud Detection Handling skewed datasets, compares credit card fraud detection models, and evaluate how the different sets of features have an impact on the results with the help of a real credit card fraud dataset provided by a large European card processing company (the dataset above). The results show an average increase in savings of 13% by including the proposed periodic features into the methods. Using 50-50 split in fraud, non-fraud leads to better models.\nvon Mises distribution: https://en.wikipedia.org/wiki/Von_Mises_distribution   https://www.aaai.org/Papers/Workshops/1997/WS-97-07/WS97-07-015.pdf Credit Card Fraud Detection using Meta-Learning: Issues and Initials Results Apart from the finding like above (using balanced training), the paper talks about using metrics other than accuracy for model evaluation.   http://journal.utem.edu.my/index.php/jtec/article/view/3571/2466 Credit Card Fraud Detection Using Machine Learning As Data Mining Technique 95% accuracy based on Naive based derivatives.   https://www.jair.org/index.php/jair/article/view/10302/24590 SMOTE: Synthetic Minority Over-sampling Technique Using SMOTE method as described in the paper is another alternative of getting around the skewness problem.    3. Research on available solutions: Airbnb https://medium.com/airbnb-engineering/architecting-a-machine-learning-system-for-risk-941abbba5a60\nWays to mitigate potential bad actors to carry out different types of attacks:\n Product changes: 2FA, email verification, etc etc Anomaly detection: Scripted attacks that can cause anomaly heuristics/machine learning model based on different factors  Framework\n Fast and robust Agile (catch up game)  PMML: Predictive model markup language Openscoring: encodes several common types of machine learning models\nThey do not provide fraud detection as a service.\nPaypal\nhttps://venturebeat.com/2018/06/21/paypal-to-acquire-machine-learning-powered-fraud-detection-startup-simility/\nPaypal recently acquired Simility for fraud detection.\nSimility looks at various session, device, and behavioral bio-metrics and builds a profile for what constitutes “normal” user login behavior; if an anomaly is spotted, it can act to prevent the action.\nhttps://www.dropbox.com/s/ft3wu5ix15xukhc/Mobile%20Fintech%20Fraud.pdf?dl=0\nStripe\nhttps://stripe.com/us/radar\nEven if a card is new to your business, there’s an 89% chance it’s been seen before on the Stripe network.\n4. Machine Learning  Supervised learning was applied to the PCA data set discussed in the data sets section. Different ensemble machine learning algorithms were tested, rather than using one particular algorithm for modelling. Metrics like Precision, Recall, F1 score were used to evaluate the model and get a better understanding of True Positives, True Negatives, False Positive and False Negatives.  Link to complete notebook\nResults:\nRandom Forest\nAccuracy score for Random Forest : 0.9538461538461539 Precision score Random Forest : 0.98 Recall score Random Forest : 0.9245283018867925 F1 score Random Forest : 0.9514563106796116  Bagging\nAccuracy score for Bagging : 0.963076923076923 Precision score Bagging : 0.9867549668874173 Recall score Bagging : 0.9371069182389937 F1 score Bagging : 0.9612903225806452  AdaBoost\nAccuracy score for Ada Boost Classifier : 0.9446153846153846 Precision score Ada Boost Classifier : 0.9795918367346939 Recall score Ada Boost Classifier : 0.9056603773584906 F1 score Ada Boost Classifier : 0.9411764705882353  False Positives vs False Negatives\n","date":"2019-01-01T08:06:19+05:45","permalink":"https://subedi.ml/posts/fraud_detection/","section":"posts","tags":["ML"],"title":"Fraud Detection"},{"categories":["Pet Projects"],"contents":"","date":"2018-12-31T10:10:11+05:45","permalink":"https://subedi.ml/posts/shabda_kathmandu/","section":"posts","tags":[""],"title":"Shabda Kathmandu"},{"categories":["Teaching Materials"],"contents":"","date":"2018-12-20T10:11:01+05:45","permalink":"https://subedi.ml/posts/spirathon/","section":"posts","tags":[""],"title":"Spirathon 2019"},{"categories":["Teaching Materials"],"contents":"Torpe Blockchain (तोर्पे ब्लोक्कचैन) A minimal blockchain data structure to understand the blockchain basics like hashing, nonce, states, genesis blocks etc. Hash Function A hash function is any function that can be used to map data of arbitrary size to data of a fixed size. The values returned by a hash function are called hash values, hash codes, digests, or simply hashes.\nimport hashlib def hash_sha256(raw): raw = str(raw).encode(\u0026#39;utf-8\u0026#39;) return hashlib.sha256(raw).hexdigest() hash_sha256(\u0026#39;torpe_blockchain\u0026#39;) 'e5367197a1f12480ec761306f2fa9d15b494d5a80e5a806713df9e60943f4faf'  hash_sha256(\u0026#39;torpe_blockchain\u0026#39;) 'e5367197a1f12480ec761306f2fa9d15b494d5a80e5a806713df9e60943f4faf'  hash_sha256(\u0026#39;torpe_blockchaiN\u0026#39;) '71fe90af906a9afa507ee54287595df6d7267df05428b3f91429371ebd27cb3e'  Hashes for the same text are the same as seen above. Even when one character of the string is changed, the hash generated as a result seems to be completely random.\nSHA-256 collisions have not been found yet.\nNonce  Number that can only be used once\n An arbitrary numer used in cryptography to ensure uniqueness and prevent the rerunning of transactions (known as replay attack).\ndef hash_sha256_nonce(raw): raw_bytes = str(raw).encode(\u0026#39;utf-8\u0026#39;) hashed = hashlib.sha256(raw_bytes).hexdigest() nonce = 0 while (hashed[:5] != \u0026#39;00000\u0026#39;): nonce = nonce+1 raw.update({\u0026#39;nonce\u0026#39;: nonce}) raw_bytes = str(raw).encode(\u0026#39;utf-8\u0026#39;) hashed = hashlib.sha256(raw_bytes).hexdigest() return raw, hashed print (hash_sha256_nonce({\u0026#39;hello\u0026#39;: \u0026#39;proof_of_work\u0026#39;, \u0026#39;nonce\u0026#39;: 0})) ({'hello': 'proof_of_work', 'nonce': 623228}, '00000a9d45728c6f4d1eff383dab4d96b753495c8b312ecb5d1858116885ee55')  Proof of work The proof of work for this case will be to generate hashes with five leading zeros (by incrementing the nonce). This is the \u0026ldquo;mining\u0026rdquo; part.\nBlock Blocks hold batches of valid transactions that are hashed and encoded into a Merkle tree Each block includes the cryptographic hash of the prior block in the blockchain, linking the two. The linked blocks form a chain. This iterative process confirms the integrity of the previous block, all the way back to the original genesis block.\nGenesis Block A genesis block or block0 is the first block of a block chain. The genesis block is almost always hardcoded into the software of the applications that utilize its block chain. It is a special case in that it does not reference a previous block\nimport datetime # Lets assume 5 person were given 100 coins each state = { \u0026#39;Person_1\u0026#39;: 100, \u0026#39;Person_2\u0026#39;: 100, \u0026#39;Person_3\u0026#39;: 100, \u0026#39;Person_4\u0026#39;: 100, \u0026#39;Person_5\u0026#39;: 100 } block0_data = { \u0026#39;timestamp\u0026#39;: datetime.datetime.now(), \u0026#39;index\u0026#39;: 0, \u0026#39;previous\u0026#39;: None, \u0026#39;transactions\u0026#39;: [state], \u0026#39;nonce\u0026#39;: 0 } raw, hashed = hash_sha256_nonce(block0_data) block0 = { \u0026#39;hash\u0026#39;: hashed, \u0026#39;data\u0026#39;: raw, } block0 {'hash': '0000044b11859efa71c555a87a68090f1f602cf8bcd35bb5446c3c5532f5ad5e', 'data': {'timestamp': datetime.datetime(2020, 9, 9, 7, 37, 44, 877080), 'index': 0, 'previous': None, 'transactions': [{'Person_1': 100, 'Person_2': 100, 'Person_3': 100, 'Person_4': 100, 'Person_5': 100}], 'nonce': 2700821}}  This is the genesis block or block 0 here.\nTransactions Lets create some random transactions. The transactions for the demo purpose follow +x, -x semantic. See the examples below.\nimport random def random_transaction(state): temp_list = list(state.keys()) random.shuffle(temp_list) # randomly select two persons first_person = temp_list.pop() second_person = temp_list.pop() receive = random.randint(1, 10) give = -receive return { first_person:receive, second_person:give } test_transactions = [random_transaction(state) for x in range(5)] test_transactions [{'Person_3': 5, 'Person_5': -5}, {'Person_3': 7, 'Person_5': -7}, {'Person_4': 1, 'Person_1': -1}, {'Person_2': 4, 'Person_1': -4}, {'Person_4': 4, 'Person_5': -4}]  Updating State def update_state(transaction, state): state = state.copy() for key in transaction: state[key] = state.get(key, 0) + transaction[key] return state for transaction in test_transactions: state = update_state(transaction, state) state {'Person_1': 95, 'Person_2': 104, 'Person_3': 112, 'Person_4': 105, 'Person_5': 84}  Valid Transactions def check_transaction_validity(transaction, state): # check neg vs pos if sum(transaction.values()) is not 0: return False # check if amount in wallet to give for key in transaction.keys(): if state.get(key, 0) + transaction[key] \u0026lt; 0: return False return True for transaction in test_transactions: print (check_transaction_validity(transaction, state)) True True True True True  # No balance print (check_transaction_validity({\u0026#39;A\u0026#39;: 5, \u0026#39;B\u0026#39;: -5}, {\u0026#39;A\u0026#39;: 0, \u0026#39;B\u0026#39;: 0})) False  # Bad transaction print (check_transaction_validity({\u0026#39;A\u0026#39;: 5, \u0026#39;B\u0026#39;: 5}, {\u0026#39;A\u0026#39;: 50, \u0026#39;B\u0026#39;: 50})) False  Initial State # Let us reset # Lets assume 5 person were given 100 coins each state = { \u0026#39;Person_1\u0026#39;: 100, \u0026#39;Person_2\u0026#39;: 100, \u0026#39;Person_3\u0026#39;: 100, \u0026#39;Person_4\u0026#39;: 100, \u0026#39;Person_5\u0026#39;: 100 } blockchain = [] # Adding the genesis block blockchain.append(block0) blockchain [{'hash': '0000044b11859efa71c555a87a68090f1f602cf8bcd35bb5446c3c5532f5ad5e', 'data': {'timestamp': datetime.datetime(2020, 9, 9, 7, 37, 44, 877080), 'index': 0, 'previous': None, 'transactions': [{'Person_1': 100, 'Person_2': 100, 'Person_3': 100, 'Person_4': 100, 'Person_5': 100}], 'nonce': 2700821}}]  Non-genesis block / New block def new_block(transactions, blockchain): previous_block = blockchain[-1] data = { \u0026#39;timestamp\u0026#39;: datetime.datetime.now(), \u0026#39;index\u0026#39;: previous_block[\u0026#39;data\u0026#39;][\u0026#39;index\u0026#39;] + 1, \u0026#39;previous\u0026#39;: previous_block[\u0026#39;hash\u0026#39;], \u0026#39;transactions\u0026#39;: transactions, \u0026#39;nonce\u0026#39;: 0 } raw, hashed = hash_sha256_nonce(data) block = {\u0026#39;hash\u0026#39;: hashed, \u0026#39;data\u0026#39;: raw} return block sample_transactions = [random_transaction(state) for x in range(50)] sample_transactions [{'Person_5': 5, 'Person_1': -5}, {'Person_3': 10, 'Person_1': -10}, {'Person_2': 5, 'Person_4': -5}, {'Person_5': 9, 'Person_3': -9}, {'Person_3': 1, 'Person_2': -1}, {'Person_1': 9, 'Person_3': -9}, {'Person_1': 7, 'Person_3': -7}, {'Person_5': 4, 'Person_3': -4}, {'Person_5': 2, 'Person_4': -2}, {'Person_2': 4, 'Person_3': -4}, {'Person_3': 5, 'Person_5': -5}, {'Person_5': 1, 'Person_1': -1}, {'Person_1': 1, 'Person_2': -1}, {'Person_2': 7, 'Person_1': -7}, {'Person_2': 7, 'Person_5': -7}, {'Person_3': 2, 'Person_1': -2}, {'Person_3': 3, 'Person_1': -3}, {'Person_3': 3, 'Person_2': -3}, {'Person_3': 6, 'Person_1': -6}, {'Person_1': 5, 'Person_3': -5}, {'Person_2': 4, 'Person_3': -4}, {'Person_2': 1, 'Person_5': -1}, {'Person_1': 3, 'Person_2': -3}, {'Person_1': 10, 'Person_2': -10}, {'Person_3': 9, 'Person_5': -9}, {'Person_1': 3, 'Person_4': -3}, {'Person_4': 2, 'Person_3': -2}, {'Person_5': 6, 'Person_3': -6}, {'Person_2': 9, 'Person_1': -9}, {'Person_3': 3, 'Person_4': -3}, {'Person_3': 10, 'Person_4': -10}, {'Person_1': 9, 'Person_4': -9}, {'Person_2': 3, 'Person_1': -3}, {'Person_2': 6, 'Person_3': -6}, {'Person_4': 4, 'Person_1': -4}, {'Person_3': 7, 'Person_1': -7}, {'Person_3': 7, 'Person_1': -7}, {'Person_3': 5, 'Person_2': -5}, {'Person_3': 10, 'Person_2': -10}, {'Person_2': 1, 'Person_1': -1}, {'Person_1': 3, 'Person_5': -3}, {'Person_4': 4, 'Person_5': -4}, {'Person_1': 3, 'Person_2': -3}, {'Person_4': 1, 'Person_1': -1}, {'Person_5': 1, 'Person_4': -1}, {'Person_3': 5, 'Person_2': -5}, {'Person_1': 8, 'Person_4': -8}, {'Person_3': 8, 'Person_4': -8}, {'Person_3': 7, 'Person_4': -7}, {'Person_2': 1, 'Person_1': -1}]  Transactions per block Bitcoin blocks used to contain fewer than 200 transactions and the largest number of transactions in a block was 1,976 at the time this answer was originally written (May 2013). In meanwhile (November 2017) the average number of transaction per block is well above 1500 with peaks above 2200.\n# Assume block size is 5 transactions_per_block = 5 transaction_block = [] for transaction in sample_transactions: if check_transaction_validity(transaction, state): state = update_state(transaction, state) transaction_block.append(transaction) if len(transaction_block) \u0026gt;= transactions_per_block: blockchain.append(new_block(transaction_block, blockchain)) transaction_block = [] import pprint pp = pprint.PrettyPrinter() for block in blockchain: pp.pprint(block) print(\u0026#39;\\n************************************************************************************\\n\u0026#39;) {'data': {'index': 0, 'nonce': 2700821, 'previous': None, 'timestamp': datetime.datetime(2020, 9, 9, 7, 37, 44, 877080), 'transactions': [{'Person_1': 100, 'Person_2': 100, 'Person_3': 100, 'Person_4': 100, 'Person_5': 100}]}, 'hash': '0000044b11859efa71c555a87a68090f1f602cf8bcd35bb5446c3c5532f5ad5e'} ************************************************************************************ {'data': {'index': 1, 'nonce': 2395688, 'previous': '0000044b11859efa71c555a87a68090f1f602cf8bcd35bb5446c3c5532f5ad5e', 'timestamp': datetime.datetime(2020, 9, 9, 7, 37, 58, 781195), 'transactions': [{'Person_1': -5, 'Person_5': 5}, {'Person_1': -10, 'Person_3': 10}, {'Person_2': 5, 'Person_4': -5}, {'Person_3': -9, 'Person_5': 9}, {'Person_2': -1, 'Person_3': 1}]}, 'hash': '00000303c468fe76fe73dfc089b856af02eda615c296ddde95c0c60999561048'} ************************************************************************************ {'data': {'index': 2, 'nonce': 2475862, 'previous': '00000303c468fe76fe73dfc089b856af02eda615c296ddde95c0c60999561048', 'timestamp': datetime.datetime(2020, 9, 9, 7, 38, 16, 454296), 'transactions': [{'Person_1': 9, 'Person_3': -9}, {'Person_1': 7, 'Person_3': -7}, {'Person_3': -4, 'Person_5': 4}, {'Person_4': -2, 'Person_5': 2}, {'Person_2': 4, 'Person_3': -4}]}, 'hash': '00000804a078686673c26bd3d391649da822c27a9eb87c2a86f07be5be7667c0'} ************************************************************************************ {'data': {'index': 3, 'nonce': 843595, 'previous': '00000804a078686673c26bd3d391649da822c27a9eb87c2a86f07be5be7667c0', 'timestamp': datetime.datetime(2020, 9, 9, 7, 38, 34, 360082), 'transactions': [{'Person_3': 5, 'Person_5': -5}, {'Person_1': -1, 'Person_5': 1}, {'Person_1': 1, 'Person_2': -1}, {'Person_1': -7, 'Person_2': 7}, {'Person_2': 7, 'Person_5': -7}]}, 'hash': '0000004fdf3bc704c17b3f38c8bcb0306443e24db0c5971c7494cea67e618fcd'} ************************************************************************************ {'data': {'index': 4, 'nonce': 456491, 'previous': '0000004fdf3bc704c17b3f38c8bcb0306443e24db0c5971c7494cea67e618fcd', 'timestamp': datetime.datetime(2020, 9, 9, 7, 38, 40, 443823), 'transactions': [{'Person_1': -2, 'Person_3': 2}, {'Person_1': -3, 'Person_3': 3}, {'Person_2': -3, 'Person_3': 3}, {'Person_1': -6, 'Person_3': 6}, {'Person_1': 5, 'Person_3': -5}]}, 'hash': '000001ea0d5ee3360f087e8fe25e643a8e749af6b42bf8c3045303a3e4dc80a5'} ************************************************************************************ {'data': {'index': 5, 'nonce': 1793595, 'previous': '000001ea0d5ee3360f087e8fe25e643a8e749af6b42bf8c3045303a3e4dc80a5', 'timestamp': datetime.datetime(2020, 9, 9, 7, 38, 43, 617133), 'transactions': [{'Person_2': 4, 'Person_3': -4}, {'Person_2': 1, 'Person_5': -1}, {'Person_1': 3, 'Person_2': -3}, {'Person_1': 10, 'Person_2': -10}, {'Person_3': 9, 'Person_5': -9}]}, 'hash': '00000101ed3a68b2340f553e1a373e7a590823fb34ee1e2f3c2e4ed44b647c2a'} ************************************************************************************ {'data': {'index': 6, 'nonce': 618433, 'previous': '00000101ed3a68b2340f553e1a373e7a590823fb34ee1e2f3c2e4ed44b647c2a', 'timestamp': datetime.datetime(2020, 9, 9, 7, 38, 56, 256050), 'transactions': [{'Person_1': 3, 'Person_4': -3}, {'Person_3': -2, 'Person_4': 2}, {'Person_3': -6, 'Person_5': 6}, {'Person_1': -9, 'Person_2': 9}, {'Person_3': 3, 'Person_4': -3}]}, 'hash': '00000b2395e1efb034610e89196aafe9407417bbac1cd60f300adccea3cd880d'} ************************************************************************************ {'data': {'index': 7, 'nonce': 4087255, 'previous': '00000b2395e1efb034610e89196aafe9407417bbac1cd60f300adccea3cd880d', 'timestamp': datetime.datetime(2020, 9, 9, 7, 39, 0, 705135), 'transactions': [{'Person_3': 10, 'Person_4': -10}, {'Person_1': 9, 'Person_4': -9}, {'Person_1': -3, 'Person_2': 3}, {'Person_2': 6, 'Person_3': -6}, {'Person_1': -4, 'Person_4': 4}]}, 'hash': '00000ef1b9a090a4b6636f86fa3d264dbcab13f5cf87d994637e656b6ec4abad'} ************************************************************************************ {'data': {'index': 8, 'nonce': 991443, 'previous': '00000ef1b9a090a4b6636f86fa3d264dbcab13f5cf87d994637e656b6ec4abad', 'timestamp': datetime.datetime(2020, 9, 9, 7, 39, 29, 983211), 'transactions': [{'Person_1': -7, 'Person_3': 7}, {'Person_1': -7, 'Person_3': 7}, {'Person_2': -5, 'Person_3': 5}, {'Person_2': -10, 'Person_3': 10}, {'Person_1': -1, 'Person_2': 1}]}, 'hash': '0000021d8da5dab8b274a0146db6ddd6b1c12f34d751f84e9755fae1ed6a42b3'} ************************************************************************************ {'data': {'index': 9, 'nonce': 24885, 'previous': '0000021d8da5dab8b274a0146db6ddd6b1c12f34d751f84e9755fae1ed6a42b3', 'timestamp': datetime.datetime(2020, 9, 9, 7, 39, 37, 55377), 'transactions': [{'Person_1': 3, 'Person_5': -3}, {'Person_4': 4, 'Person_5': -4}, {'Person_1': 3, 'Person_2': -3}, {'Person_1': -1, 'Person_4': 1}, {'Person_4': -1, 'Person_5': 1}]}, 'hash': '000002090602b338740f28ac66dfdc2f9949c8c40303574e0be08ad7033550bb'} ************************************************************************************ {'data': {'index': 10, 'nonce': 545615, 'previous': '000002090602b338740f28ac66dfdc2f9949c8c40303574e0be08ad7033550bb', 'timestamp': datetime.datetime(2020, 9, 9, 7, 39, 37, 232552), 'transactions': [{'Person_2': -5, 'Person_3': 5}, {'Person_1': 8, 'Person_4': -8}, {'Person_3': 8, 'Person_4': -8}, {'Person_3': 7, 'Person_4': -7}, {'Person_1': -1, 'Person_2': 1}]}, 'hash': '00000d59159d699830d454d68d2077ed40da8ae060ec67c19be0814d35a61e6f'} ************************************************************************************  The current state Syncing for the first time def validate_block(block, parent, state): error_msg = \u0026#39;Error in %d\u0026#39; % block[\u0026#39;data\u0026#39;][\u0026#39;index\u0026#39;] # check block hash assert block[\u0026#39;hash\u0026#39;] == hash_sha256(block[\u0026#39;data\u0026#39;]), error_msg # check block indices assert block[\u0026#39;data\u0026#39;][\u0026#39;index\u0026#39;] == parent[\u0026#39;data\u0026#39;][\u0026#39;index\u0026#39;] + 1, error_msg # check previous hash assert block[\u0026#39;data\u0026#39;][\u0026#39;previous\u0026#39;] == parent[\u0026#39;hash\u0026#39;], error_msg # validate all transactions for transaction in block[\u0026#39;data\u0026#39;][\u0026#39;transactions\u0026#39;]: assert check_transaction_validity(transaction, state), error_msg state = update_state(transaction, state) return state def check_chain(blockchain): state = {} for transaction in blockchain[0][\u0026#39;data\u0026#39;][\u0026#39;transactions\u0026#39;]: state = update_state(transaction, state) parent = blockchain[0] for block in blockchain[1:]: state = validate_block(block, parent, state) parent = block return state check_chain(blockchain) {'Person_1': 94, 'Person_2': 107, 'Person_3': 145, 'Person_4': 55, 'Person_5': 99}  ","date":"2018-10-28T01:10:00+05:45","permalink":"https://subedi.ml/posts/torpe/","section":"posts","tags":["blockchain","python"],"title":"Torpe Blockchain"},{"categories":["Moonlit"],"contents":"","date":"2018-10-01T06:10:01+05:45","permalink":"https://subedi.ml/posts/feasibility_study/","section":"posts","tags":[""],"title":"Feasibility study with sentiment analysis and voronoi"},{"categories":["Pet Projects"],"contents":"","date":"2018-08-08T08:06:19+05:45","permalink":"https://subedi.ml/posts/inclusive_newspaper/","section":"posts","tags":[""],"title":"Inclusive Newspaper"},{"categories":["Pet Projects"],"contents":"","date":"2018-03-03T06:16:55+05:45","permalink":"https://subedi.ml/posts/seedstars/","section":"posts","tags":[""],"title":"Startup analysis using Seedstars data"},{"categories":["Pet Projects"],"contents":" Introduction\nI have been experimenting with Deep Learning models in PyTorch for a couple of weeks now. PyTorch is an open source python package that provides Tensor computation (similar to numpy) with GPU support. The dataset used for this particular blog post does no justice to the real-life usage of PyTorch for image classification. However, it serves as a general idea of how Transfer Learning can be used for more complicated image classification. Transfer learning, in a nutshell, is reusing a model developed for some other classification task, for your classification purposes. The dataset was created by scraping images from google image search.\nCreating the dataset\nFor our dataset, we need images of birds, planes, and Superman. We will be using the icrawler package to download the images from google image search.\nWe repeat the same for birds and Superman. Once all the files have been downloaded, we will restructure the folders to contain our training, testing and validating samples. I am allocating 70% for training, 20% for validating and 10% for testing.\nLoading the data\nPyTorch uses generators to read the data. Since datasets are usually large, it makes sense to not load everything in memory. Let\u0026rsquo;s import useful libraries that we will be using for classification.\nNow that we have imported useful libraries, we need to augment and normalize the images. Torchvision transforms is used to augment the training data with random scaling, rotations, mirroring and cropping. We do not need to rotate or flip our testing and validating sets. The data for each set will also be loaded with Torchivision\u0026rsquo;s DataLoader and ImageFolder.\nLet us visualize a few training images to understand the data augmentation.\nLoading a pre-trained model We will be using Densenet for our purposes.\nThe pre-trained model\u0026rsquo;s classifier takes 1920 features as input. We need to be consistent with that. However, the output feature for our case is 3 (bird, plane, and Superman).\nNow, let\u0026rsquo;s create our classifier and replace the model\u0026rsquo;s classifier.\nWe are using ReLU activation function with random dropouts with a probability of 20% in the hidden layers. For the output layer, we are using LogSoftmax.\nTraining Criterion, Optimizer, and Decay\nModel Training and Testing\nLet us calculate the accuracy of the model without training it first.\nThe accuracy is pretty low at this time, which is expected. The cuda parameter here is the boolean object passed for the availability of GPU hardware in the machine.\nLet us train the model.\nSince GPU is supported, the training took around 10 mins. The validation accuracy is almost 99%. Let us check the accuracy over training data again.\nImage Preprocessing We declare a few functions to preprocess images and pass on the trained model.\nPredicting by passing an image\nSince our model is ready and we have built functions that allows us to visualize, let us try it out on one of the sample images.\nSo, that is it.\n","date":"2018-02-02T10:09:16+05:45","permalink":"https://subedi.ml/posts/bird_plane_superman/","section":"posts","tags":["ML, python, pytorch"],"title":"Birds, Plane, Superman"},{"categories":["Teaching Materials"],"contents":"Diffie-Hellman key exchange (The introductory content is from wikipedia)\nDiffie–Hellman key exchange is a method of securely exchanging cryptographic keys over a public channel and was one of the first public-key protocols as originally conceptualized by Ralph Merkle and named after Whitfield Diffie and Martin Hellman. DH is one of the earliest practical examples of public key exchange implemented within the field of cryptography.\nDiffie-Hellman is a way of generating a shared secret between two people in such a way that the secret can\u0026rsquo;t be seen by observing the communication. That\u0026rsquo;s an important distinction: You\u0026rsquo;re not sharing information during the key exchange, you\u0026rsquo;re creating a key together.\nThis is particularly useful because you can use this technique to create an encryption key with someone, and then start encrypting your traffic with that key. And even if the traffic is recorded and later analyzed, there\u0026rsquo;s absolutely no way to figure out what the key was, even though the exchanges that created it may have been visible. This is where perfect forward secrecy comes from. Nobody analyzing the traffic at a later date can break in because the key was never saved, never transmitted, and never made visible anywhere.\nThe way it works is reasonably simple. A lot of the math is the same as you see in public key crypto in that a trapdoor function is used. And while the discrete logarithm problem is traditionally used (the xy mod p business), the general process can be modified to use elliptic curve cryptography as well.\nBut even though it uses the same underlying principles as public key cryptography, this is not asymmetric cryptography because nothing is ever encrypted or decrypted during the exchange. It is, however, an essential building-block, and was in fact the base upon which asymmetric crypto was later built.\nCryptographic explanation The simplest and the original implementation of the protocol uses the multiplicative group of integers modulo p, where p is prime, and g is a primitive root modulo p. These two values are chosen in this way to ensure that the resulting shared secret can take on any value from 1 to p–1. Here is an example of the protocol, with non-secret values in blue, and secret values in red.\nImports import base64 from primesieve import nth_prime from random import randint from Crypto.Cipher import AES Key Sharing Public numbers # small prime number g = nth_prime(50) g 229  # large prime number p = nth_prime(1000) p 7919  Alice and Bob Private number a = nth_prime(randint(1, p-1)) b = nth_prime(randint(1, p-1)) a 49019  b 70639  Public Message Transfer Alice sends Bob publicly alice_sends = g**a % p Bob sends Alice publicly bob_sends = g**b % p Shared Secret key Alice shared_secret_key_alice = bob_sends**a % p shared_secret_key_alice 7065  Bob shared_secret_key_bob = alice_sends**b % p shared_secret_key_bob 7065  assert shared_secret_key_alice==shared_secret_key_bob shared_secret_key = shared_secret_key_alice Both Alica and Bob now have the secret key, without compromising their private keys.\nDH is public key/asymmetric crypto but not encryption. For the demo, AES 256 (takes 32 bytes)\nEncryption and Decryption Changing the key to 32 byte (a bad hacky way)\nkey = str(shared_secret_key) key_bytes = str.encode(key.zfill(32)) # The message should be a multiple of the byte size alice_to_bob_original = str.encode(\u0026#39;hello world how are you\u0026#39;.zfill(256)) cipher = AES.new(key_bytes, AES.MODE_ECB) cipher_msg = cipher.encrypt(alice_to_bob_original) cipher_msg is sent to the server, bob reads the cipher_msg and uses the secret key to decipher\ndecipher = AES.new(key_bytes, AES.MODE_ECB) print(decipher.decrypt(cipher_msg)) b'00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000hello world how are you'  DH is prone to man-in-the-middle attacks The Diffie-Hellman Scheme does not provide authentication of any kind. It only allow 2 anonymous parties to share a common secret. But for all Alice knows, she could be shaking hands with the devil (instead of Bob). This is why we need at least one party to be authenticated.\nFor example: SSL (https), the webserver is authenticated using PKI (Public Key Infrastructure), and then a secure connection is established (D-H) between the website and the client. Since the website has been authenticated, the client can trust the website, but the website cannot trust the client. It is now safe for the client to provide his own authentication details on the webpage.\nFor a practical answer if you are configuring your SSL/TLS server: you should use a modulus of at least 2048-bit, and a generator g such that the order of g is a prime q of at least 256 bits; alternatively, you may use a modulus p which is a \u0026ldquo;safe prime\u0026rdquo; (the order of g will then be either a very big prime, or twice a very big prime, which is almost as good). Some people feel safer when they generate their DH parameters \u0026ldquo;themselves\u0026rdquo;(*) instead of reusing existing values; if that\u0026rsquo;s what it takes to allow you to sleep at night, then do it.\nElliptic Curve replaces primes with elliptic curve. The benefit is efficiency.\n","date":"2018-01-12T10:10:30+05:45","permalink":"https://subedi.ml/posts/diffie_hellman/","section":"posts","tags":["encryption","python"],"title":"Diffie-Hellman key exchange (and AES-256)"},{"categories":["Teaching Materials"],"contents":"RSA RSA (Rivest–Shamir–Adleman) is one of the first public-key cryptosystems and is widely used for secure data transmission. In such a cryptosystem, the encryption key is public and it is different from the decryption key which is kept secret (private). In RSA, this asymmetry is based on the practical difficulty of the factorization of the product of two large prime numbers, the \u0026ldquo;factoring problem\u0026rdquo;. The acronym RSA is made of the initial letters of the surnames of Ron Rivest, Adi Shamir, and Leonard Adleman, who first publicly described the algorithm in 1978. Clifford Cocks, an English mathematician working for the British intelligence agency Government Communications Headquarters (GCHQ), had developed an equivalent system in 1973, but this was not declassified until 1997\nA user of RSA creates and then publishes a public key based on two large prime numbers, along with an auxiliary value. The prime numbers must be kept secret. Anyone can use the public key to encrypt a message, but with currently published methods, and if the public key is large enough, only someone with knowledge of the prime numbers can decode the message feasibly. Breaking RSA encryption is known as the RSA problem. Whether it is as difficult as the factoring problem remains an open question.\nRSA is a relatively slow algorithm, and because of this, it is less commonly used to directly encrypt user data. More often, RSA passes encrypted shared keys for symmetric key cryptography which in turn can perform bulk encryption-decryption operations at much higher speed.\nImports from primesieve import nth_prime RSA Algorithm  Take two distinct, large primes p and q (Ideally these have a similar byte-length) Multiply p and q and store the result in n Find the totient for n using the formula φ(n)=(p−1)(q−1) Take an e coprime that is greater, than 1 and less than n Find d using the formula d⋅e≡1modφ(n)  At this point, the pair (e, n) is the public key and the private key (d, n) is the private key.\np = nth_prime(10) q = nth_prime(15) n = p*q print (p,q,n) 29 47 1363  totient = (p-1)*(q-1) print (totient) 1288  Totient In number theory, Euler\u0026rsquo;s totient function counts the positive integers up to a given integer n that are relatively prime to n. It is written using the Greek letter phi as φ(n) or ϕ(n), and may also be called Euler\u0026rsquo;s phi function. It can be defined more formally as the number of integers k in the range 1 ≤ k ≤ n for which the greatest common divisor gcd(n, k) is equal to 1. The integers k of this form are sometimes referred to as totatives of n.\nThe line on the top represents distribution of prime numbers. The phi of a prime number is simply the (n-1)\n Phi function is multiplicative (for relatively prime numbers). Therefore, phi of A times B where A and B are prime is (A-1) times (B-1)  Coprime In number theory, two integers a and b are said to be relatively prime, mutually prime, or coprime (also written co-prime) if the only positive integer (factor) that divides both of them is 1. Consequently, any prime number that divides one does not divide the other. This is equivalent to their greatest common divisor (gcd) being 1\nfrom math import gcd import random def modinv(a, m): for x in range(1, m): if (a * x) % m == 1: return x return None def coprimes(a): l = [] for x in range(2, a): if gcd(a, x) == 1 and modinv(x,a) != None: l.append(x) for x in l: if x == modinv(x,a): l.remove(x) return l coprime_list = coprimes(totient) secure_random = random.SystemRandom() e = secure_random.choice(coprime_list) d = modinv(e, totient) d 685  Private and Public key pairs print (\u0026#39;Public key pair:\u0026#39;, e, n) Public key pair: 1021 1363  print (\u0026#39;Private key pair:\u0026#39;, d, n) Private key pair: 685 1363  Test test = 2**e % n test 1029  test**d % n 2  Encryption and Decryption def encrypt(msg, pub, pri, mod): chars = [ord(x) for x in list(msg)] cipher = [] for char in chars: cipher.append(chr(char**pub%mod)) return \u0026#39;\u0026#39;.join(cipher) def decrypt(msg, pub, pri, mod): chars = [ord(x) for x in list(msg)] cipher = [] for char in chars: cipher.append(chr(char**pri%mod)) return \u0026#39;\u0026#39;.join(cipher) cipher = encrypt(msg = \u0026#39;hello\u0026#39;, pub=e, pri=d, mod=n) decrypt(cipher, pub=e, pri=d, mod=n) 'hello'  Python library import rsa Bob generates a keypair, and gives the public key to Alice. This is done such that Alice knows for sure that the key is really Bob’s (for example by handing over a USB stick that contains the key).\n(bob_pub, bob_priv) = rsa.newkeys(512) (alice_pub, alice_priv) = rsa.newkeys(512) Alice writes a message, and encodes it in UTF-8. The RSA module only operates on bytes, and not on strings, so this step is necessary.\nmessage = \u0026#39;hello Bob!\u0026#39;.encode(\u0026#39;utf8\u0026#39;) Alice encrypts the message using Bob’s public key, and sends the encrypted message\ncipher = rsa.encrypt(message, bob_pub) Bob receives the message, and decrypts it with his private key.\ndecrypt_cipher = rsa.decrypt(cipher, bob_priv) print (decrypt_cipher) b'hello Bob!'  Since Bob kept his private key private, Alice can be sure that he is the only one who can read the message. Bob does not know for sure that it was Alice that sent the message, since she didn’t sign it.\nSignature Suppose Alice uses Bob\u0026rsquo;s public key to send him an encrypted message. In the message, she can claim to be Alice but Bob has no way of verifying that the message was actually from Alice since anyone can use Bob\u0026rsquo;s public key to send him encrypted messages. In order to verify the origin of a message, RSA can also be used to sign a message.\nSuppose Alice wishes to send a signed message to Bob. She can use her own private key to do so. She produces a hash value of the message, raises it to the power of d (modulo n) (as she does when decrypting a message), and attaches it as a \u0026ldquo;signature\u0026rdquo; to the message. When Bob receives the signed message, he uses the same hash algorithm in conjunction with Alice\u0026rsquo;s public key. He raises the signature to the power of e (modulo n) (as he does when encrypting a message), and compares the resulting hash value with the message\u0026rsquo;s actual hash value. If the two agree, he knows that the author of the message was in possession of Alice\u0026rsquo;s private key, and that the message has not been tampered with since.\nThis works because multiplication is commutative so {\\displaystyle h=hash(m);(h^{e})^{d}=h^{ed}=h^{de}=(h^{d})^{e}\\equiv h{\\pmod {n}}} {\\displaystyle h=hash(m);(h^{e})^{d}=h^{ed}=h^{de}=(h^{d})^{e}\\equiv h{\\pmod {n}}} Thus, the keys may be swapped without loss of generality, that is a private key of a key pair may be used either to:\nsignature = rsa.sign(message, alice_priv, \u0026#39;SHA-1\u0026#39;) rsa.verify(message, signature, alice_pub) 'SHA-1'  Complete Bob and Alice generate a keypair and share public keys.\n(bob_pub, bob_priv) = rsa.newkeys(512) (alice_pub, alice_priv) = rsa.newkeys(512) Alice writes a message.\nmessage = \u0026#39;hey Bob!\u0026#39;.encode(\u0026#39;utf8\u0026#39;) Alice signs the message with private key\nsignature = rsa.sign(message, alice_priv, \u0026#39;SHA-1\u0026#39;) Alice encrypts the message using Bob’s public key, and sends the encrypted message\ncipher = rsa.encrypt(message, bob_pub) Bob receives the message and checks for authenticity using alice\u0026rsquo;s public key\nrsa.verify(message, signature, alice_pub) 'SHA-1'  Bob decrypts the message using his private key\ndecrypt_cipher = rsa.decrypt(cipher, bob_priv) print (decrypt_cipher) b'hey Bob!'  signature b'\\x07Of\\xabW^\\x0b\\xaeFh\\x01L\\xf3\\x11\\xe0\\xe9\\\\\\x99r\\xc9\\x1c\\x044\\x11\\xfc{5\\xa3_ \\xeb\\xba\\xf8\\x84b\\x1e\\xb7\\xadK)\\xdf\\x9b\\x8f|\\xc4\u0026gt;\\x89\\x9d\\xdf\\x98OI\\xc1\\x87\\xc2\\xdd\\xf3\\xf6\\x16\\xae2`my'  ","date":"2018-01-12T10:10:30+05:45","permalink":"https://subedi.ml/posts/rsa_encryption/","section":"posts","tags":["encryption","python"],"title":"RSA encryption"},{"categories":["Tootle"],"contents":"A brief history of Tootle Hello World, When Tootle started, there were four of us. At the time, we were working on EdCrayon (Three60’s Education and Classroom Management System). The development of EdCrayon was pretty much complete and one of the better schools in town had been implementing it for a year. We were busy with building fewer last minute requirements such as Nepalese school standard digital report cards and student ranking systems. After those were done and the academic session ended, we were preparing for the next academic session and we were also in talks with several schools for implementation of EdCrayon.\nhttps://princihere.files.wordpress.com/2016/10/androiddevices.png\nHowever, because of earthquake of 2015, the school that were lined up decided to back out and use their EdCrayon allocated resources on repairing the infrastructure damages. We would come to work and not feel productive at all. Due to the sheer boredom at work, we started researching on several ideas including location based services. One of the very first ideas was to create an app that would allow users to track location of Sajha buses on Google Maps so that they could plan on leaving offices/homes by referencing estimated time of arrival provided by the app. Even though Sajha buses were comparatively convenient, the problem was that people had to wait for the buses, generally up to half an hour, since bus stops arrival timings were more or less random. We developed the prototype for a Sajha bus route but since Sajha bus did not show any interest we decided to move on to other ideas.\nMeanwhile, I was researching on asynchronous API calls for a pet project of mine. I had been trying to figure out the best way to sync client’s on-device offline database and off-device master database. In this process, one of the first things that I did was to look into creating my own implementation by syncing Android SQLite database with MySQL database. Up until this point, when ever client sync was required, I would simply clear out the content adapter’s list, remove all elements, get all elements from master server and refill the adapter. This allowed for easy implementation. However, even if nothing was changed in the client database, whenever the client hit the sync button or pulled to refresh, the process would get repeated. Basically the question I was trying to answer was, “Is it faster and less expensive to individually assess for updates by comparing updated_date and id or to simply truncate and refill?” During the research for this, I stumbled upon newer technologies that would allow setting up changes listeners on client’s devices to refresh the changed list without having to trigger an action to sync the data. Using this finding and our research from location based services, we felt comfortable tackling the idea for a ride sharing application from a technological perspective, and Tootle was born. Tootle was not Tootle from the very beginning. We continued our research on appropriate Business Models, Brand Positioning, Business Strategy, and Marketing and Delivery. Based on the changes in how we were going to position our brand in the market, we changed the product name from CabIO (digital cabs), KAR.ma (share your ride for karma), Bzuli (environmentally conscious ride sharing) and finally to Tootle (a fun way to travel without restricting the service to electric vehicles and only four wheeled vehicles). In the meantime, based on the Business Models and Brand Positioning, several elements of the app were also changed.\nAlthough the concept of ride sharing is not new, and several companies such as Uber, Lyft, Ola and Go-Jek have implemented it tremendously well, Tootle is different mainly due to three core elements. First of all, we let our partners decide if they want to take a ride, i.e, we introduced the idea of casual Tootle partners. For example, a partner A can decide to give rides throughout the day and make this his/her full time job or simply give rides that matches his/her travel itinerary. The technology is adjusted in such a way that a tootle ride requests are sent to several partners within a vicinity rather than just one partner. Unlike aforementioned companies, there are no penalties involved for not taking a ride. Secondly, albeit not completely by choice, we have realized that frugality invites creativity. At every step of technology development, we have had to strategize inexpensive yet effective ways to solve problems. Although we are still purely in development phase as of today, I believe we can really take pride in what we have accomplished given the resources. This is also reflective in the product. We were forced to think about minimizing data consumption (given the high data cost in Nepal) and poor internet infrastructure. Currently, on average, a particular ride for a partner in terms of data exhausts 1 MB while him/her being able to log in, select appropriate ride, complete the ride and get paid, while the backend collects ride information such as timestamps for actions and exact route followed. This costs him/her 50 Paisa which is approximately $0.005. Finally, last but not the least, the major difference comes in the form of technology adaptation, contextualization and more importantly, communication. Kathmandu is traditionally more or less a close-knit community where people prefer talking to people to garner a sense of confirmation and safely. Therefore, it was crucial to build a simple and clean UI that gets the job done and focus massively on developing technologies that provided real time ride statistics to our team at call center so that they could assist people giving and taking Tootle rides. Similarly, since digitization of payment was essential but Nepal is not ready for secure and realtime credit card transaction, apart from local third party digital wallet integration we also have QR top-ups. To summarize, although from the surface, Tootle is a ride sharing application like Uber, it has established its own identity via contextualization of the requirements of Nepali needs. This is apparent throughout the technology.\nTootle Today From our experience, we have realized that market drives technology and not the other way around. We have also realized that although technology is merely a facilitator, it can do wonders to solve problems and invoke habit changes if done correctly. Now, we have a multidisciplinary team of 15 striving to make Tootle technologies and services better each passing day with the goal of doing it correctly.\n","date":"2017-10-01T11:02:11+05:45","permalink":"https://subedi.ml/posts/tootle_history/","section":"posts","tags":["product","tootle"],"title":"A brief history of Tootle"},{"categories":["Tootle"],"contents":"Link to Tootle Website\nTootle is a ride sharing service that matches bike riders and commuters. While the concept is not new, there are several contextualization factors that makes it unique. As research and development engineer and lead software developer, this was my biggest challenge to date and I learnt a lot of things. However, since we worked in a very small team, I occasionally came across problems related to branding, client relationship, marketing and overall B2C business model. This blog post will dive into those learnings rather than focus on technological implementations. To summarize the entire post, it is about my journey from a single dimensional software developer to a software developer who also understands project management, human resources, market, competition, branding and plethora of other factors that a software developer whose long term goal is to become a tech entrepreneur needs in their arsenal.\nStart small, www.rome.com was not built in a day This is trivial for most people, but not for me. There were times I was so focused on completing a task that I lost the bigger picture. Breaking down a task into smaller subtasks and solving them as soundly as possible is the key. Also, when you push yourself too hard, you miss small details that might have huge consequences in the future. Think scalability while solving little problems. Like Will Smith said, \u0026ldquo;You don\u0026rsquo;t set out to build a wall. You don\u0026rsquo;t say \u0026lsquo;I\u0026rsquo;m going to build the biggest, baddest, greatest wall that\u0026rsquo;s ever been built.\u0026rsquo; You don\u0026rsquo;t start there. You say, \u0026lsquo;I\u0026rsquo;m going to lay this brick as perfectly as a brick can be laid. You do that every single day. And soon you have a wall.\u0026rdquo; Also, Hofstadter\u0026rsquo;s law will come along to shatter all your to-do plans for the day. It\u0026rsquo;s just the way it is. Deal with it.\nDevelopment and design is an iterative, never ending process. It is not a sprint but a marathon. Seeking perfectionism hurts. First of all, there is no perfect code or design. There might be something that looks, feels and works great today, but it is never going to be perfect. You will always have to come back to that line of code, redesign that slider that looked great once upon a time and continuously update based on user feedback. Coding is a little of writing code and a lot of maintaining it. You are never really done. Project preplanning and risk management might help with not having to go back to drawing board again and again, but development and design is very much an agile process.\nHire people who love what they do and love learning Coworkers become your second family. During the course of Tootle development, I actually spent more time with my coworkers than my family. Fortunately, everyone involved with Tootle are very passionate, hard-working and motivated people who never shy from learning. Also, certain characteristics such as being ardent, an embodiment and advocate of the product, and hardworking are more important than being skillful. I was also on the hiring team and I made sure to look for these characteristics. After all, Leicester City won 2015-2016 Barclays Premier League primarily because of their team spirit.\nPrioritize what is important There will be a lot of bugs. Code related stuff aside, there will also be several things that need attention. However, time is limited. At times you could be in front of your computer debugging for hours and hours, but still the issue tracker list and crash reporting list will be full. Therefore it is necessary to prioritize based on impact level. Assessing impact of a particular task can be difficult. However, if you have an awesome team, it is just a matter of discussing from a business and technical point of view. Also distinguishing between bugs, enhancement, improvement proposal and task is very important.\nCommunication solves 95% of all problems Communication is the key. Often during the day, talk to coworkers about the problems that you are having. First of all, when you explain the problem to someone, you understand the problem better yourself. Secondly, you are also in sync with what problems everyone else is facing. Similarly, simply talking about work related problems, expressing how you feel about deadlines, doing risk analysis together, discussing business strategy together, communicating dissatisfactions etc. will help solve a lot of problems earlier. So, constantly take a break, look outside the window, get a glass of water and simply talk.\nStress can be a catalyst if applied properly This project was very much stressful. Retrospectively, it was supposed to be too because of its complexity. One of the things I really struggled with is handling stress. I have gotten better over the course of this project. However, I am still working on learning to change stress to a catalyst. I hope to become Arsene Wenger someday (giggles). However, I have learnt that if things don\u0026rsquo;t work tonight, you simply have to sleep over it. The freshness of morning solves a lot of problems.\nYou could also just watch SRK dance in Hosh na khud kahi josh\u0026hellip;.\nGo running in the morning, be healthy This one is self-explanatory. Run to remain stress free and healthy. I stopped running for a while because I was lazy. But, I was also lazy because I was not running.\nCompetition is good While reading The Personal MBA by Josh Kaufman, I realized that having market competition is actually advantageous. This concept was really counterintuitive to me previously. Competition is good because it implies higher probability of fulfillment of something known as the Iron Law of Market. It basically means that like you, other people have also seen the availability of the market you are targeting. Similarly, there is a lot to learn from your competition. Learning and applying the principles of game theory helps a lot too. Awesome tech implementation is second to client\u0026rsquo;s requirement You could spend weeks and months on awesome, flawless and amazing features that your clients don\u0026rsquo;t really care about or half an hour on simple features that makes all the difference to them. For example, adding a bitcoin as payment system would be cool, but allowing a female client to select a female driver makes the product secure and also adds marketing and advertising weight.\nBeta tests are really really really important You could sit hours upon hours, days upon days trying to find and fix all the problems. But, finding problems is more difficult once you know your product inside out. You are in a controlled office environment with fast internet, limited real test devices and a clear understanding of product workings. There is no way for you to find all the problems. The solution is to find real users to test, use and provide feedbacks. Canary tests and beta tests are therefore very important.\nJust because you like it, does not mean users are going to like it also You might absolutely love your product. However, it does not mean every user will like it also. Be prepared to get bad ratings. Also, they are not wrong to dislike something you adore so much.\nPrevious projects and keeping up to date with latest technologies help a lot I really believe this one is a biggie. Regardless of whether or not a product succeeds, it is always a stepping stone for future products. This product would not have been possible or would have been terribly difficult without Edcrayon, Edquake, and dozens of other location related prototype. When prototyping, research on newer stacks and practices.\nIn the end, revenue matters the most In the words of Josh Kaufman, Do not be a mercenary since dedication in craft, patience to find right market to be dedicated towards and consistency is required to eventually make money.\nAlso, do not be a crusader since you need money to pay the bills.\nWish us good luck with our tootle journey.\n","date":"2017-01-28T13:12:41+05:45","permalink":"https://subedi.ml/posts/tootle_learnings/","section":"posts","tags":["product","tootle"],"title":"Learnings from Tootle"},{"categories":["Three60"],"contents":" The objective of the game was to use texts, audios, videos, badges, quizzes, points, stories and characters to educate users on preparation for earthquake and decision making during and after earthquake.\nApplication Description\nBefore the game starts, a teaser video is played where an event of earthquake is shown inside a home scenario. The video is shown in order to reflect the importance of earthquake preparedness. The video can be skipped the next time as per the choice of the player.\nApplication Home Screen\nThe application home screen allows users to start a new game, resume from where they left off previously, change game settings such as sound and language settings and submit their score to leaderboards, and quit the application. It also displays current user name and character selection along with all the badges that the user has won.\nStarting a new game\nUpon starting a new game, a dialog appears where the user enter his/her name and selects a character. The user can choose two characters that of a boy or a girl in order to play the game. These characters will also act as protagonists in animated stories.\nBadges\nBadges are provided to users upon completion of a milestone or a level. The badges provides an incentive for the players and makes the game more engaging and interesting.\nPSA and Video Activities\nEngines have been setup to support audio and video activities.\nThe radio can be used as an informative element in the game. For example:\nA PSA for earthquake preparation informing about vital items one needs in their emergency backpack can be played in the radio.\nThe video platform can support a series of storytelling addressing to different type of circumstances and safety tips regarding the effects of earthquake. Nepali subtitles also appear on the bottom of each videos.\nDrag and Drop Activity\nEngines have been setup to support drag and drop activities.\nBased on this drag and drop engine we have developed relevant games. For example:\nPreparing a GoBag\nFollowing the PSA, the users are required to drag and drop items from a set of vital items (such as first aid kid) and useless items (such as toys) to their backpack. Since the backpack can only hold a certain number of items, the users will have to optimize for best preparation. Upon completion, the app lets the users know if their selection is correct.\nSimilarly, the app will let the users know if their selection was wise. In case of wrong selection, the app will also let the users know why their selection was incorrect. Unlike other quiz activities, the difference here is that the users will still be allowed to go back to change their answer. The rationale was to follow a formative teaching approach.\nQuiz Engines\nEngines have been setup to support quiz platform.\nQuizzes produces better organization of knowledge by helping the brain organize material in clusters to allow better retrieval. It also identifies gap in knowledge and lets people know what is learned and what is not.\nThe quiz engines supports quiz games which can be very informative. The answers chosen can also lead to some consequent information or videos later.\nThere are four different types of quiz questions.\n Grid Select True and False Multiple Choice Questions (3 Options) Multiple Choice Questions (4 Options)  The first two types of questions carry a marking rubric of 200 points. The user receives complete points if he/she answers it correctly in the first go. The point a user can collect from each quiz is reduced depending on the number of mistakes.The third question carry a marking rubric of 300 points and the fourth question carry a marking rubric of 400 points. Similarly, depending on the mistakes, the point is reduced. The result is displayed with additional tip information and graphics.\nExample 1: Grid Quiz Activity\nExample 2: Multiple Choice Quiz Activity (3 options)\nLeaderboards and Facebook sharing\nThe application will allow users to submit their points to a global leaderboards system. This will allow users to compete with other players.\n","date":"2016-10-22T04:01:02+05:45","permalink":"https://subedi.ml/posts/edquake/","section":"posts","tags":["android","product"],"title":"Edquake"},{"categories":["Three60"],"contents":"Edcrayon’s Universal Deployment Model, converts tablets or phones to a smart, self-paced, predictive learning environment. It packages the following features:\n Thousands of qualitative educational content that students can browse from and download for offline use. Gamified and engaging UI to make sure students love learning from the application. Serves as supplement to topics being taught in school or simply for self-study. Available in different languages to facilitate mother tongue learning. Learning materials is localized and contextualized too. Provides practice lessons and quizzes auto-graded by the application so that the students can work their way through the assessments as in self-paced learning. Features quiz engines that adapts to students previous knowledge on a particular subject material. If a student struggles with a specific type of problem the application will generate more questions of similar type. Provides performance charts and allows students to track their own performance. Facilitates discussion forums to allow students from different places to discuss and share ideas. The performance data will also be sent to regional or central data repository for analysis purposes. The data will help decision makers to facilitate better or different features and contents to ensure more productivity and performance.  Current challenges in education\n Delivery of published books to every part of the country has been a significant problem due to the expenses involved in publishing and also due to the lack of road infrastructure. Even in cases where books are delivered on a timely basis, it only facilitates traditional teacher-centered teaching pedagogy. Twenty first century education calls for individualized learning which cannot be achieved since published books are not tailored to learners specific needs. Not all students get the optimum learning value from text based materials alone. Several schools have a large teacher to student ratio. Teachers also invest a huge portion of their time on things like keeping comprehensive performance records of every student, preparing and keeping track of lesson plans, and various other administrative tasks. If a system aided the teachers with these mundane tasks, the time saved can instead be utilized for student teaching and classroom engagement. Individualized attention can be provided to the students even in classes where the ratio is high. Decision makers in schools do not have all the performance data of all students and/or teachers at all time. A quantitative analytical report of performance with historical data assists in decision making processes. Schools still follow standardized and summative assessment system. This is partially because the system is inherent in us. However, we believe that the main reason is simply logistical. Large student size, lack of formative assessment tools, lack of engines to create individualized assessment etc. are some contributors.  Use of technology in education can facilitate myriad of tools that help in solving the challenges. Edcrayon facilitates easy delivery of qualitative media contents, smart algorithms and/or modules that allow for individualized learning via tailored content pushing and group creation, self-paced learning, smart performance charts, and formative and summative assessment models.\nCurrently, private schools have benefitted from Edcrayon’s Classroom Deployment Model. This deployment model converts a traditional classroom environment to technology based, student-centered model. It packages the following features:\n Constitute all the elements of Universal Deployment Model with an addition to a guided learning and teaching environment. Replaces the traditional learning and teaching classroom environment to a student centered, formatively assessed, skill based, interactive learning and teaching environment. Rather than learning at their own pace, which has its own merits, this approach allows students to communicate and learn from teachers and other students in the classroom. Facilitates teachers with student performance charts. Allows teachers to assign tailored materials for more individualized learning approach. Facilitates formative and Inquiry based assessment through continuous feedbacks from teacher and other students. Performance data of students and teacher are available to decision makers. Government proposed Continuous Assessment System is implemented.  Makes it very easy to perform day to day tasks such as attendance, register keeping, etc.\nSome Screenshots of Android Application:\nSome Screenshots of Web Application:\nMy role of R\u0026amp;D engineer and Project Lead incorporated architecting overall logic and process flow of Administrative and TeacherUI consisting User, Content, Classroom, Health and Pedagogy Management System. I also designed and co-developed EdCrayon Android application incorporating offline services, interactive charts, formative pedagogy, quiz engines among other features. Additionally, I developed several database administrative tools, wrote several crons and selenium test scripts, and managed multiple school servers. Similarly, I also trained and mentored junior programmers in programming methodologies and best practices. Additionally, I was also involved in training teachers, school-coordinators and school principal to use EdCrayon. Apart from my primary focus on technology, I also served as a core group member in defining and prioritizing technology investments and business objectives.\nPrototype samples: Sample 1 Sample 2 Sample 3\n","date":"2016-02-01T02:21:02+05:45","permalink":"https://subedi.ml/posts/edcrayon/","section":"posts","tags":["android","product"],"title":"Edcrayon"},{"categories":["Pet Projects"],"contents":"It uses MPAndroidChart which allows users to scroll within the graphs too.\n","date":"2016-01-01T03:11:02+05:45","permalink":"https://subedi.ml/posts/etymology/","section":"posts","tags":["Android","etymology"],"title":"Etymology and Ngram"},{"categories":["Three60"],"contents":"Improving Literacy has been one of the biggest challenges faced by the developing world.\nUnited Nations underscored the importance of combating inequalities in education in its Sustainable Development Goals (Post 2015 Agenda) as the proposed SDG 4 suggests the international community to “Ensure inclusive and equitable quality education and promote lifelong learning opportunities for all by 2030”.\nIn Nepal, the literacy rate for the total population is 57.4 % which shows that the inequalities still persist (CIA World Factbook). Significant portion of the population have been deprived of learning opportunities due to various reasons including early marriage, gender inequalities, social and family pressure to engage into economic activities at an early age etc. Research also suggests that in developing countries, there is very low self esteem among people who are illiterates or semi literates.\nIn this digital world, they are even at greater disadvantage. Those with the least amount of schooling will find it increasingly more difficult to participate in the evolving knowledge-based societies, deepening the social divide (Reimers, 2000). There needs to be an innovative approach to match both the education and technological gap. Recent development in the mobile technology provides us with great opportunities to fill this gap.\nThe mobile devices offer both affordability and storage capacity which makes it possible to equip with different types of educational content. There are over 5 billion mobile subscribers worldwide today –an astounding number considering the world’s current population which is roughly 6.8 billion (ITU, 2010). The rapid proliferation of mobile technologies throughout the world has brought substantial attention to the potential to leverage the power of these new technologies to address decades old problems, including educational inequalities (see Keen and Mackintosh, 2001; Ling, 2004).\nProduct / Technology Concept\nThe ICT tool (Android application) for the training will have different components for learning, assessments, data-collection and data-analysis. The idea is to make the application interactive and to reflect a game-environment where users will be motivated by game elements such as unlocking levels (lessons) as they complete certain tasks. The lessons will be based on the UNESCO’s newly-literate book (Mathani) for Awadhi language (Part-2). However, certain levels from Part-1 will also be added as a means to bridge their previous knowledge.\nSome of the lessons that will be included for the pilot are as follows:\n Word formation Basic math (addition and subtraction) Paragraph reading Paragraph listening Word math Time/Calendar Filling forms, writing letters etc.  Some forms of assessments/practice lessons that will be included in the pilot are as follows:\n Android drawing canvas Multiple choice questions True/False questions Filling in the blanks Writing lessons  The following user data will be collected within the application with the assumption that every learner will have a personal device to work on:\n User information Level progression data Demographic data Application usage data Performance data Location data  The data can be synced in real-time if Internet connectivity is not an issue. However, in places where connectivity can be a problem, or it is expensive, an alternative approach where data is synced periodically can be utilized.\n","date":"2015-10-01T05:14:01+05:45","permalink":"https://subedi.ml/posts/neoliteracy/","section":"posts","tags":["Android"],"title":"Neo-literacy app concept"},{"categories":["Pet Projects"],"contents":"I recently stumbled upon a customer loyalty measurement scale termed Net Promoter Scale (NPS in short) via a conversation with a businessy friend of mine who was researching on it. I was truly amazed by the simplicity yet brilliance of NPS. Moreover, this is ideal for someone like me who wants to get honest customer feedback without harassing them with poorly designed questionnaires regarding a product. The pith of NPS lies in the question:\n“How likely is it that you would recommend our company/product/service to a friend or colleague?”\nThose who respond with a score of 9-10 are called Promoters, and are considered likely to show positive behaviors like repeat purchase and positive referrals. Those who respond with a score of 0-6 are labeled Detractors, and they are believed to exhibit the negative behaviors like driving away from the brand, negative referrals. Responses of 7 and 8 are labeled Passives, and their behavior falls in the middle of Promoters and Detractors.\nThe NPS Calculation formula\n(Number of Promoters — Number of Detractors) / (Number of Respondents) x 100\nNPS ranges from -100 to 100 (inclusive).\nWith me doing the charting part and my friend doing the result implication and significance part we developed a simple NPS calculator app that takes total detractors, passives and promotors to output NPS. Refer to the screenshots below to identify what different NPS score signify.\n","date":"2015-04-04T04:01:02+05:45","permalink":"https://subedi.ml/posts/nps/","section":"posts","tags":["Android"],"title":"Net Promoter Scale (NPS)"},{"categories":["Three60"],"contents":" I had contributed as a debugger on Seeds of Empowerment\u0026rsquo;s Swahili Phonics application a while back. This blog post lists various test cases for Swahili Phonics Learning Application for identification of completed requirements and current issues. Thereafter, it also lists the problems that were solved.\n1. User interface and interaction\nThe application has great user interface. Since the majority of targeted users are young children, it is important to make learning fun. This application successfully does that. The only issue with the user interface is that it does not adapt to the full screen width.\nExpected screen:\nCurrent screen:\n2. Data collection\nThe application collects all sorts of data from the players and stores it locally in the user\u0026rsquo;s device. The players can re-login using their user-name and password and the application allows continuation from where they left before. The application also stores every hits and misses of a user. Although not currently implemented, the data can be used for analysis purposes to identify things like what set of phonetic sound players mostly struggle with.\n3. Algorithm\nAlthough the application provides a great framework for scalability, localization in different languages, and analytics there are few issues that we feel need some attention. We have been able to identify the following problems. We were not really sure if these problems were known since the realization came from analysis of the code rather than from the use of application. Therefore, we decided to list these problems with screen-shots so that it becomes more easier to understand.\nI) random number generation problem\nIn the current implementation, random numbers help generation of correct and incorrect answer. However, correct answer is always selected from the current level the player is at but incorrect answer set is generated from level 1 through current level. Because of this, although the options will have certain phoneme that are from previous level, they will never be the correct answer.\nSome examples:\nIf a user is at level 2, the correct option will never be from level 1. To generalize, if the user is at level n, the possible set of answers will only be from the phonemes allocated for that particular level n and not from any levels less than n.\nIn this case, the answer only be “bo”, “be” or “bi”. With progression of levels, it becomes more noticeable:\nHere the possible answer is only one (ie. 4). Also, with the progression of levels, the answers will most likely be the option that the user has not seen before. The game will not chose any phonemes as correct that were part of the option set in previous levels.\nII) the phonemes are always chosen from a statically defined list\nSince the game always refers to a single static list of phoneme for selecting correct and incorrect options, it does not adapt to re-test previous misses of a user.\nIII) chances of missing some phonetics because of dynamic array creation\nThe application generates a list during application runtime to check if all phonemes for a particular level have been tested. If a phoneme is tested twice in a level and the player chose the correct answer again, the stars are not increased because the generated list already has the phoneme. It was added to the list when the player answered correctly the first time around. This is a great implementation. However, there is also a small issue with this. Since the list is generated during runtime but the number of stars a player has in a particular level is stored and retrieved when the player re-logins, chances are, some phonemes are never tested.\nAn example, If Player A starts the game, and in Level 1 he/she successfully recognizes phonemes for {a, e, o, u}, the screen-shot would look something like this:\nWhen the player is playing the game, the game initializes an array and stores all the successful hits exactly once. The list has “a”, “e”, “o”, and “u” at this point. The player is promoted to another level when he/she has five stars.\nThe stars are increased if a phoneme can be added to a list (the condition being it does not already exist in the list). In this case, the stars will only be increased if the phonetic for “i” is tested and the player successfully answers that.\nBut, if the player decides to leave the game at this point to continue at another time, the array that stored all previous successful hits will be reset. Although he/she will still have 4 stars, now all it takes to move to another level is to identify the first phoneme put by the game. Because of this issue, the might progress to next level without having to identify phoneme for “i”.\n4. Adaptability\nThis feature is currently missing because it depends on algorithm design. Once the issues are resolved in that part, the next step would be to work on adapting the levels to test users on previously missed phonetics.\n5. Report Generation\nAlthough the application successfully collects useful data, the data is currently not being utilized for analysis.\nIdentified solutions for aforementioned bugs:\nThe solutions have already been implemented in the application. Currently, only algorithm specific problems have been solved. The application still needs additional design and game elements to make it more interactive.\n","date":"2015-02-02T04:04:01+05:45","permalink":"https://subedi.ml/posts/swahili/","section":"posts","tags":["Android"],"title":"Swahili Phonics App with Stanford University"},{"categories":["Teaching Materials"],"contents":" The Zorganian Republic has some very strange customs. Couples only wish to have female children as only females can inherit the family\u0026rsquo;s wealth, so if they have a male child they keep having more children until they have a girl. If they have a girl, they stop having children. What is the ratio of girls to boys in Zorgania?\nThe ratio of girls to boys in Zorgania is 1:1. This might be a little counter-intuitive at first. Here are some ways of tackling this problem. 1. Monte Carlo Simulation: Although, Monte Carlo simulation does not necessarily show why the result is 1:1, it is appropriate because of the very counter-intuitive nature of the problem. At the very least, it helps us see that the result is indeed 1:1. Therefore, this is a good start.\nThe following R code estimates the probability of a child being a boy in Zorgania.\ncouples \u0026lt;- 100000 boycount \u0026lt;- 0 for (i in 1:couples){ # 0: boy while (sample(c(0,1),1) == 0) { boycount=boycount+1 } } probability \u0026lt;- boycount/(couples+boycount)  Result:\n2. Understanding the question better: Here is another question: What is the probability of getting a tail in a fair coin toss, if all seven previous tosses resulted in heads? Since coin flips are independent events, the probability is still going to be 0.5. Similarly in this case, the child births are independent. It does not matter if the couples stop giving birth after they have a baby-girl. The expected value is unchanged.\nFor example, consider five couples: C1, C2, C3, C4 and C5. If B-\u0026gt; Boy and G-\u0026gt; Girl. Using R\u0026rsquo;s sample(). For C1: {B, G} For C2: {G} For C3: {B, B, G} For C4: {B, G} For C5: {G}\nNow, ignore the couples and only consider the children. The children are {B, G, G, B, B, G, B, G, G}. The only thing happening here is simply the generation of either a B or a G with equal probability for each generation. At this point, it is quite obvious that the part that has to do with \u0026ldquo;couple\u0026hellip;.\u0026rdquo; in the question is to mislead and confuse similar to the \u0026ldquo;previous seven tosses..\u0026rdquo; example that I mentioned in the beginning of 2.\n3. Counting:\nIf we start with 512 couples (hence 512 first borns), half of them are going to have a girl as their first. Those couples will stop having children. Among, the other half couples who had a son as their first child, half of them are going to have a girl as their second child and so on. At every step there is an equal numbers of boys and girls. Therefore, the expected ratio is 1:1.\n","date":"2014-04-18T09:13:12+05:45","permalink":"https://subedi.ml/posts/zorgania/","section":"posts","tags":["R","monte carlo","probability"],"title":"Republic of Zorgania"},{"categories":["Pet Projects"],"contents":"The Du Compiler:  This is the naive/brute-force implementation of the Mandelbrot Set plotting. I just followed the algorithm.\n# Plotting the Mandelbrot Set # length of sequence for real and imaginary parts of complex numbers length \u0026lt;- 1000 # sequences for real and imaginary parts real = seq(-1.8,0.6, len=length) imaginary = seq(-1.2,1.2, len=length) result \u0026lt;- matrix(nrow = length, ncol = length) for (i in 1:length) { for (j in 1:length) { result[i,j]=inmandelbrotset(complex(real = real[i], imaginary = imaginary[j])) } } image(result, axes=FALSE) # function that checks if a point E mandelbrot set inmandelbrotset \u0026lt;- function(c) { dwell.limit \u0026lt;- 2048 z \u0026lt;- 0 for (i in 1:dwell.limit) { z \u0026lt;- z ** 2 + c if (Mod(z) \u0026gt; 2) { return(FALSE) } } return(TRUE) }  Adding colors: We now have a Boolean matrix that records if a point is in the Mandelbrot Set. Since the matrix can only have two values : true or false, thus far, we have only been able to plot read and white images. The next step is to add colors such that we get more information on when a particular point escapes the radius of 2. Again, this is the naive/brute force way of doing it.\n# Mandelbrot Plotting with colors length \u0026lt;- 1000 real = seq(-2.0,2.0, len=length) imaginary = seq(-2.0,2.0, len=length) result \u0026lt;- matrix(nrow = length, ncol = length) dwell.limit \u0026lt;- 512 for (i in 1:length) { for (j in 1:length) { z \u0026lt;- 0 c \u0026lt;-complex(real = real[i], imaginary = imaginary[j]) for (k in 1:dwell.limit) { z \u0026lt;- z ** 2 + c if (Mod(z) \u0026gt; 2) { result[i,j]=k break } } } } set.seed(2) image(result,breaks=0:dwell.limit ,col=c(1,sample(terrain.colors (dwell.limit-1,alpha = .8))),asp=1,ax=F)  and, just for the heck of it..\nASCII Mandelbrot Set using R (naive)\ns \u0026lt;- seq(-1.7,1.2, by =.1) a \u0026lt;- \u0026quot;\u0026quot; for (i in 1:length(s)) { for (j in 1:length(s)) { a\u0026lt;-cat(a,inmandelbrotset(complex(r = s[j], i = s[i]))) } a \u0026lt;- cat(a,\u0026quot;\\n\u0026quot;) }  Achieved by returning a \u0026quot; \u0026quot; or \u0026ldquo;#\u0026rdquo; instead of FALSE or TRUE from function \u0026ldquo;inmandelbrotset\u0026rdquo;. A better algorithm Utilizing R\u0026rsquo;s easy to use lists in implementation:\n# more efficient algorithm to plot the Mandelbrot set sequence \u0026lt;- seq(-2,2,len=1000) dwell.limit \u0026lt;- 200 # matrix of points to be iterated complex.matrix \u0026lt;- t((sapply(sequence,function(x)x+1i*sequence))) in.mandelbrot.index \u0026lt;- 1:length(complex.matrix) iter=z=array(0,dim(complex.matrix)) for(i in 1:dwell.limit){ # complex quadratic polynomial function for all points z[in.mandelbrot.index]=complex.matrix[in.mandelbrot.index]+z[in.mandelbrot.index]^2 # boolean matrix result=Mod(z[in.mandelbrot.index])\u0026lt;=2 # if result is false, store the iteration iter[in.mandelbrot.index[!result]]=i # save all the index where points are still in the mandelbrot in.mandelbrot.index=in.mandelbrot.index[result] } set.seed(19) image(iter,main=paste(\u0026quot;Iterations: \u0026quot;, i, sep=\u0026quot; \u0026quot;), breaks=0:dwell.limit ,col=c(1,sample(rainbow (dwell.limit-1,alpha = .8))),ax=F, asp=1)  Plotting the Julia set A little modification to the code above (red and white Mandelbrot) produces Julia Sets. The idea here is to set a constant C and send Z to the function instead of C.\nc \u0026lt;- complex(real=-0.1,imaginary=0.651) label \u0026lt;- toString(c) injulia \u0026lt;- function(z) { dwell.limit \u0026lt;- 128 for (i in 1:dwell.limit) { z \u0026lt;- z ** 2 + c if (Mod(z) \u0026gt; 2) { return(FALSE) } } return(TRUE) }  Adding colors: This is achieved by following the same process as above.\nSierpinski Gasket using Chaos game\n#### Chaos game for generation of Sierpinski Gasket # 1. Take 3 points in a plane to form a triangle, you need not draw it. # 2. Randomly select any point inside the triangle and consider that your current position. # 3. Randomly select any one of the 3 vertex points. # 4. Move half the distance from your current position to the selected vertex. # 5. Plot the current position. # 6. Repeat from step 3 plot.new() iterations \u0026lt;- 2000 vertices \u0026lt;- matrix(c(0,0,0.5,1,1,0),3,2, byrow=T) current.point \u0026lt;- c(0.5,0.5) random.vertex \u0026lt;- sample(1:3,iterations,replace=T) plot.result = matrix(nrow=iterations,ncol=2) for (i in 1:iterations){ current.point \u0026lt;- (current.point+vertices[random.vertex[i],])/2 plot.result[i,] \u0026lt;- current.point } points(plot.result,pch = 46)  Adding colors:\npoints(plot.result,pch = 46,col=c(13,3,41)[random.vertex])  ","date":"2014-04-15T17:12:41+05:45","permalink":"https://subedi.ml/posts/fractal_plots/","section":"posts","tags":["mandelbrot","R","viz"],"title":"Fractal Plots"},{"categories":["Pet Projects"],"contents":"For quite some time now, my father and my uncle have been debating over the coordinates of their houses with respect to each others. Albeit barely 750 meters from each other, there is not much visible reference points or landmarks to figure it out accurately. The blame is on the molasses thick concrete jungle of Kathmandu valley. (Side-note: Kathmandu will soon be synonymous to the word asphyxiation). Although, I sincerely appreciate their curiosity, I think it is time to end this for once and for all.\nI have used photos of my sister (Ashma) and my cousin (Samip) as labels to the directions.\nThe app implements Canvas to \u0026ldquo;draw\u0026rdquo; the direction. The two GPS coordinates (obtained from Google Earth) were hard-coded into the program and Azimuth from orientation sensor was used to calculate the direction. Basically, it is a compass that points the direction from one house to the other instead of pointing North. Apart from this rather trivial implementation, the code can be modified to achieve some fun/interesting/useful developments. For instance, the direction of Mecca for Muslim prayers is one that comes to mind. Or, it could be modified into a bearing pointer app by using GPS data and some input EditTexts.\nCode Snippet onCreate\n protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); mCustomDrawableView = new CustomDrawableView(this); setContentView(mCustomDrawableView); // Register the sensor listeners Resources res = getResources(); samip = BitmapFactory.decodeResource(res, R.drawable.samip); ashma = BitmapFactory.decodeResource(res, R.drawable.ashma); // Fill in correct latitude and longitude currentLoc.setLatitude(0.000000); currentLoc.setLongitude(0.00000); currentLoc.setAltitude(00); destinationLoc.setLatitude(0.00000); destinationLoc.setLongitude(0.0000); mSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE); accelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER); magnetometer = mSensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD); }  Canvas\n Float azimuth; public Bitmap samip; public Bitmap ashma; public class CustomDrawableView extends View { Paint compassAxis = new Paint(); Paint compassCircle = new Paint(); Paint compasAarrow = new Paint(); public CustomDrawableView(Context context) { super(context); compassAxis.setColor(0xff00ff00); compassAxis.setStyle(Style.STROKE); compassAxis.setStrokeWidth(2); compassAxis.setAntiAlias(true); compassCircle.setColor(0xff000000); compassCircle.setStyle(Style.STROKE); compassCircle.setStrokeWidth(10); compassCircle.setAntiAlias(true); compasAarrow.setColor(0xff0000ff); compasAarrow.setStyle(Style.STROKE); compasAarrow.setStrokeWidth(3); compasAarrow.setAntiAlias(true); }; protected void onDraw(Canvas canvas) { int width = getWidth(), height = getHeight(); int centerx = width / 2, centery = height / 2; /* * Drawing the axis and circle Being symmetrical, these don't need * to be rotated */ // Axis canvas.drawLine(centerx, 0, centerx, height, compassAxis); canvas.drawLine(0, centery, width, centery, compassAxis); // Circle canvas.drawCircle(centerx, centery, 200, compassCircle); /* * since this was a pretty small scope app, magnetic north was not * changed to real north. See: \u0026quot;GeomagneticField\u0026quot; */ // Used Float instead of float for this check if (azimuth != null) { // Converting radians to degrees float temp = (float) Math.toDegrees(azimuth); float bearing = currentLoc.bearingTo(destinationLoc); float direction = temp - bearing; canvas.rotate(-direction, centerx, centery); } canvas.drawLine(centerx, centery - 200, centerx, centery, compasAarrow); canvas.drawBitmap(samip, centerx + 5, centery - 200, compassAxis); canvas.drawBitmap(ashma, centerx + 5, centery - 15, compassAxis); } }  Screenshots:\nAnd after some time wasting:\n","date":"2014-03-31T12:11:45+05:45","permalink":"https://subedi.ml/posts/thelostbrothers/","section":"posts","tags":["android"],"title":"The Lost Brothers"},{"categories":["Pet Projects"],"contents":"Android+Arduino RC Car The previous attempt was in shambles due to the lack of proper products. This time, I got myself a Sainsmart L293D motor driver (actually a cloned version of the ever so popular Adafruit L293D driver) and a handy four wheel drive chassis. Hereupon, the only adjustment required was the use of analog pins as digital pins. This is the consequence of the motor driver using up all the digital pins and leaving no pins for the Bluetooth shield. I also hooked up the Arduino to a USB power bank.\nTools used: ~ Arduino Uno ~ 4WD Chassis ~ SainSmart motor driver (L293D) ~ Sunkee 30ft Bluetooth Module ~ Anker 15000 mAh power bank\nArduino\n//Project: Android RC Car //Author: Ayush Subedi #include \u0026lt;AFMotor.h\u0026gt; //import Adafruit Motor library #include \u0026lt;SoftwareSerial.h\u0026gt;// import the serial library SoftwareSerial newPorts(15, 17); // RX =15= A1, TX=17=A3 AF_DCMotor motor1(1, MOTOR12_1KHZ); // create motor #1, 1KHz pwm AF_DCMotor motor2(2, MOTOR12_1KHZ); // create motor #2, 1KHz pwm AF_DCMotor motor3(3, MOTOR34_1KHZ); // create motor #3, 1KHz pwm AF_DCMotor motor4(4, MOTOR34_1KHZ); // create motor #4, 1KHz pwm void setup() { newPorts.begin(9600); motor1.setSpeed(255); // set the speed to 200/255 motor2.setSpeed(255); // set the speed to 200/255 motor3.setSpeed(255); // set the speed to 200/255 motor4.setSpeed(255); // set the speed to 200/255 } void loop() { while (newPorts.available() \u0026gt; 0) { char ch = newPorts.read(); newPorts.println(newPorts.read()); executeReceivedCommand(ch); } } void executeReceivedCommand(char command) { switch (command) { //Forward case '0': motor1.run(FORWARD); motor2.run(FORWARD); motor3.run(FORWARD); motor4.run(FORWARD); break; //Reverse case '1': motor1.run(BACKWARD); motor2.run(BACKWARD); motor3.run(BACKWARD); motor4.run(BACKWARD); break; //Left : skid steering case '3': motor1.run(FORWARD); motor4.run(FORWARD); motor2.run(RELEASE); motor3.run(RELEASE); break; //Right : skid steering case '4': motor2.run(FORWARD); motor3.run(FORWARD); motor1.run(RELEASE); motor4.run(RELEASE); break; //Stall case '2': motor1.run(RELEASE); motor2.run(RELEASE); motor3.run(RELEASE); motor4.run(RELEASE); break; } }  In a nutshell, the Android device sends Char type to Arduino which is used to rotate the motors to maneuver towards a desired direction.\nForward: 0 Reverse: 1 Stop: 2 Left: 3 Right: 4\nThe car turns left and right by implementing skid steering.\nPictures and Video:\n  ","date":"2014-01-31T11:03:13+05:45","permalink":"https://subedi.ml/posts/rc_car/","section":"posts","tags":["android","arduino"],"title":"Android+Arduino RC Car"},{"categories":["Pet Projects"],"contents":"Snakes and Ladders This game needs no introduction. Although there are several variations of this game (mainly on position of the snakes and ladders), the rules are generally the same. Some of the rules, (which are part of my algorithm) are mentioned below. Also, this game requires no skill as it solely depends on luck/probability. This allows several mathematical questions relating to this game be answered using Monte Carlo simulation. However, for this post, I will only be investigating from an analytic/subjective stand point. That is, I will be using Markov Chain to answer those questions. Markov Chain Wikipedia link\nThe game\u0026rsquo;s Markov property or memorylessness allows us to use Markov Chain. That is, the probability of occurrence of next event only depends on current event and not on any other events that occurred before. An example from our game: It does not matter if the player reached square 31 using the ladder from square 9, or by traversing the hard way around. Once the player is in 31, the probability of getting to square 32 does not depend on the \u0026ldquo;past\u0026rdquo;. Transition matrix Wikipedia link Transition matrix is a 2 dimensional array that encapsulates state transitional probabilities. For example, a transition matrix P, given the following information (Mathematical model of one dimensional random walk),\nwould be,\nTransition matrix for Snakes and Ladders Trivial Transition Matrix\nFirst of all, consider a case where there are no snakes or ladders. Let us call this our Trivial (for the lack of words) scenario.\nThis definitely makes for a boring game. However, it helps with the math. First of all, the square 0 is the position the player is before the game starts. Now, since we are using a cubic die, on the first roll, the probability of going from 0 to 1, 0 to 2, 0 to 3, 0 to 4, 0 to 5, and 0 to six is 1/6. Since we are not accounting for snakes or ladders, the probability of going from box i to boxes i+1, i+2, i+3, i+4, i+5, and i+6 are all going to be 1/6, unless we run out of space. That is, if we are at 97, the person can only move to next step if the die rolls 1, 2 or 3. For anything greater, the person will not go to the next step. Therefore, in this case, the probabilities are: 97 to 98 = 1/6, 97 to 99 = 1/6, 97 to 100 = 1/6 and 97 to 97 = 3/6.\nBuilding the Trivial transition matrix based on the aforementioned rule.\n import Jama.Matrix; /** * @return 101X101 Transition Matrix for case: Trivial */ public Matrix trivialMatrix() { int difference, playerPosition = 0, matrixSize=101; double transitionM[][] = new double\\[matrixSize\\][matrixSize]; double probability = 1.0 / 6; for (playerPosition = 0; playerPosition \u0026lt; transitionM.length; playerPosition++) { for (int i = 1; i \u0026lt;= 6; i++) { if ((difference = matrixSize - playerPosition) \u0026lt;= 6) { for (int k = 1; k \u0026lt; difference; k++) { transitionM\\[playerPosition\\][playerPosition + k] = probability; } transitionM\\[playerPosition\\][playerPosition] = (6 - difference + 1) * probability; } else { transitionM\\[playerPosition\\][playerPosition + i] = probability; } } } return new Matrix(transitionM); }  Top-Left\nBottom-Right\nNon-Trivial Transition Matrix\nSnakes:\n98 ~ 78, 95 ~ 75, 93 ~ 73, 87 ~ 24, 64 ~ 60, 62 ~ 19, 56 ~ 53, 49 ~ 11, 48 ~ 26, 16 ~ 6\nLadders:\n1 ~ 38, 4 ~ 14, 9 ~ 31, 21 ~ 42, 28 ~ 84, 36 ~ 44, 51 ~ 67, 71 ~ 91, 80 ~ 100\nI decided to use a simple List implementation for this. This might most likely be the Brute-Force implementation (I know several ways to make it better but none to make it worse). One way to make it more efficient would be to use 82 by 82 matrix instead of 101 by 101.\nThe advantage of using this implementation over the 82 by 82 matrix (apart from easy implementation) is that this method can be used for any snakes and ladders board variation. It also allows us to check for some hypothetical cases or answer more important questions. Eg: What is the best way to position snakes and ladders for maximum thrill to a player?\nBuilding the non-Trivial transition matrix\n /** * @return 101X101 Transition Matrix for case: non-Trivial */ public Matrix nonTrivialMatrix() { int playerPosition,matrixSize=101,difference; List\u0026lt;Integer\u0026gt; from = Arrays.asList(1, 4, 9, 21, 28, 36, 51, 71, 80, 98, 95, 93, 87, 64, 62, 56, 49, 48, 16); List\u0026lt;Integer\u0026gt; to = Arrays.asList(38, 14, 31, 42, 84, 44, 67, 91, 100, 78, 75, 73, 24, 60, 19, 53, 11, 26, 6); double probability = 1.0 / 6; double transitionM[][] = new double\\[matrixSize\\][matrixSize]; for (playerPosition = 0; playerPosition \u0026lt; transitionM.length; playerPosition++) { if (!from.contains(playerPosition)) { for (int i = 1; i \u0026lt;= 6; i++) { if ((difference = 6 - playerPosition) \u0026lt;= 6) { for (int k = 1; k \u0026lt; difference; k++) { if (from.contains(playerPosition + k)) { transitionM\\[playerPosition\\][to.get(from.indexOf(playerPosition + k))] = probability; } else { transitionM\\[playerPosition\\][playerPosition + k] = probability; } } if (from.contains(playerPosition)) { transitionM\\[playerPosition\\][to.get(from.indexOf(playerPosition))] = (6 - difference + 1) * probability; } else { transitionM\\[playerPosition\\][playerPosition] = (6 - difference + 1) * probability; } } else { if (from.contains(playerPosition + i)) { transitionM\\[playerPosition\\][to.get(from.indexOf(playerPosition + i))] = transitionM\\[playerPosition\\][to.get(from.indexOf(playerPosition + i))] + probability; } else { transitionM\\[playerPosition\\][playerPosition + i] = transitionM\\[playerPosition\\][playerPosition + i] + probability; } } } } } return new Matrix(transitionM); }  Top-Left\nBottom-Right\nProbability Vector Wikipedia link\nProbability vectors\nrepresents the probability of being on a certain square after n dice rolls. It is a vector with non-negative entries that add up to one.\nimplies that the probability of being on square 0 is 1. This is our input.\n\u0026hellip;\u0026hellip;\nIf P is the Trivial transition matrix,\nIf P is the non-Trivial transition matrix.\nBuilding the Probability Vector\n /** * @return Probability Vector with 1 being the first element */ public Matrix probabilityVector() { double probabilityV[] = new double[101]; probabilityV[0] = 1; return new Matrix(probabilityV, 1); }  Question 1: Probability of being on square s after n dice rolls: Using Vn-1 * P = Vn\n /** * @param transitionMatrix * @param probabilityVector * @param diceRolls */ public static void squareProbability(Matrix transitionMatrix, Matrix probabilityVector, int diceRolls) { NumberFormat nf = NumberFormat.getInstance(); nf.setMinimumFractionDigits(20); System.out.println(\u0026quot;Dice rolls: \u0026quot;+diceRolls); for (int i = 1; i \u0026lt;= diceRolls; i++) { probabilityVector = probabilityVector.times(transitionMatrix); } probabilityVector.print(nf, 3); }  Some outputs for the Trivial matrix: I used html tables to simulate the board (basically printed the html tags within java code).\nSome outputs for the non-Trivial matrix:\nQuestion 2: Minimum length of a game and occurrence probability That is, after how many n, is the probability at square 100 greater than 0 for the first time?\nFor the trivial case, the answer is, ceiling of 100/6 = 17.\nFor the non-trivial case,\n /** * @param transitionMatrix * @param probabilityVector */ public static void gameCompletion(Matrix transitionMatrix, Matrix probabilityVector) { NumberFormat nf = NumberFormat.getInstance(); nf.setMinimumFractionDigits(30); int box = 100; int diceRolls = 0; while (probabilityVector.get(0, box) == 0) { diceRolls++; probabilityVector = probabilityVector.times(transitionMatrix); } System.out.println(\u0026quot;The game can be completed in min of \u0026quot; + diceRolls + \u0026quot; dice rolls.\u0026quot;); System.out.println(\u0026quot;Probability of it happening: \u0026quot; + nf.format(probabilityVector.get(0, box))); }  Results:\nNon-Trivial Matrix\nThe game can be completed in min of 7 dice rolls. Probability of it happening: 0.001564643347050754000000000000  Rolls of {4,6,6,2,6,4,6} is one shortest solution. However, in theory, the game could last forever. Therefore, there is no longest game.\nTrivial Matrix\nThe game can be completed in min of 17 dice rolls. Probability of it happening: 0.000000000009038995585604526000  Rolls of {6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6} is the only shortest solution. Longest game in this case is 100 dice rolls. The player will have to roll 1, 100 consecutive times from start. Question 3: Expected length of a game: Let subStochasticMatrix be the 100 by 100 matrix obtained by deleting the last row and column of the transition matrix. Also, let I be 100 by 100 identity matrix. Let inverse be the inverse of the difference of I and subStochasticMatrix. The expected number of rolls is given by the sum of entries in top row of the matrix inverse.\n /** * @param transitionMatrix * @param probabilityVector */ public static void expectedLength(Matrix transitionMatrix, Matrix probabilityVector){ Matrix subStochasticMatrix=transitionMatrix.getMatrix(0, 99, 0 ,99); Matrix I = Matrix.identity(100,100); Matrix inverse = (I.minus(subStochasticMatrix)).inverse(); double sum=0; for (int i =0;i\u0026lt;=99;i++){ sum=sum+inverse.get(0, i); } System.out.println(\u0026quot;Expected game length: \u0026quot;+sum); }  Results:\nNon-Trivial Matrix\nExpected game length: 39.59836564020812  Trivial Matrix\nExpected game length: 33.33333333333334  ","date":"2013-12-02T10:09:32+05:45","permalink":"https://subedi.ml/posts/snakesandladders/","section":"posts","tags":["markov chains","probability","java"],"title":"Snakes and Ladders"},{"categories":["Capstone Projects"],"contents":"The Du Compiler: For our Computer Science capstone project, we take on the beast - building a compiler from scratch. We had about three months to do it but we really had no clue of what we were doing for the first month and a half. Although we knew plenty of what there was to know about compilers in theory, we soon realized that building one from scratch was not going to be easy. We started with baby steps, and by the time the project was due, we were taking giant leaps (we had no other option). In the end, it turned out to be a reasonably fine compiler and an excellent experience. During these three months, I had the best and the worst experiences of my academic life. Therefore, this project is really special.\nSince this project belongs to two other people also, I won\u0026rsquo;t be posting any source code. This post will just have some example code for Du-Compiler.\nFinally, for anyone looking for a reasonably challenging senior projects, I would strongly encourage building a compiler. I say this for couple of reasons. First of all, it changes the way we look at code. It gives a better understanding of what exactly happens when the compile button is hit. In another words, it makes you aware of what is going on internally. Secondly, it involves learning/relearning several Computer Science topics such as regular expressions, hash table, data-structures, tree traversals, assembly level programming etc. It also involves A LOT of coding. When it all pans out, you are going to love what you have in your skill set.\nExamples //Hello World duhawk helloworld{ duPrint(%Hello World%); } //Simple Addition duhawk simpleAdd{ int a; a=5; int b; b = a + 5; duPrint b; } //Result: 10 //Simple Pattern duhawk test{ int i; i=1; int j; j=1; while (i\u0026lt;=10){ j=1; while (j\u0026lt;=i){ duPrint(%*%); j=j + 1; } duPrintln(%%); i= i + 1; } } /* Result * ** *** **** ***** ****** ******* ******** ********* ********** */ duhawk test{ int c; int d; duPrint (%Multiplication table of: %); duInput a; duPrint (%upto: %); duInput b; for (c=1;c\u0026lt;=b;c=c + 1){ duPrint a; duPrint (% X %); duPrint c; duPrint (% = %); d = a*c; duPrintln d; } } /* Input for a = 19 Input for b = 15 Result: Multiplication table of: 19 upto: 15 19 X 1 = 19 19 X 2 = 38 19 X 3 = 57 19 X 4 = 76 19 X 5 = 95 19 X 6 = 114 19 X 7 = 133 19 X 8 = 152 19 X 9 = 171 19 X 10 = 190 19 X 11 = 209 19 X 12 = 228 19 X 13 = 247 19 X 14 = 266 19 X 15 = 285 */ ","date":"2013-09-05T17:12:41+05:45","permalink":"https://subedi.ml/posts/ducompiler/","section":"posts","tags":["compiler","java","capstone"],"title":"Compiler from Scratch"},{"categories":["Capstone Projects"],"contents":"Area of the Mandelbrot Set:  The area of the Mandelbrot Set The Mandelbrot set is a fractal (illustrates self-similarity). The set is obtained from the quadratic recurrence equation,\nwith\n, where points\nin the complex plane for which the orbit of\ndoes not tend to infinity are in the set. The Mandelbrot set is a compact set, contained in the closed disk of radius 2 around the origin. Since it is contained in a disk of known area, it is possible to approximate the area of the Mandelbrot Set\u0026rsquo;s using Monte Carlo method.\n Java: Since Java does not inherently understand complex numbers, a \u0026ldquo;real\u0026rdquo; approach will be applied to perform the quadratic recurrence equation,\nFirst, as shown in the figure above, inscribe the disk in a square of length 4 units. Let\nrepresent the coordinate along x-axis (real) and\nrepresent the coordinate along y axis. Now set\nand\n, where\nand\nare randomly generated real numbers from [-2, 2]. Basically, the\nand\ncoordinates are being duplicated at this step to preserve the point\n. Next, iteratively compute the following from\n(for programming purposes, choose a large Dwell Limit). Simultaneously, check if\n. If yes, increase count (not in the set) by 1 and get out of the loop (since all points should be contained in the disk).\nCompute the ratio of number of points that are in the set to total number of points used. Then multiply the area of square (16 units square) to get the approximate are of the Mandelbrot set.\nJava Code:\nimport java.util.Date; import java.util.Random; public class MandelbrotArea { public static int mcRep = 5000; public static int dwellLimit = 2048; /** * @return random double in [-2,2] */ public static double random() { return (new Random().nextDouble() * 4) - 2; } /** * @param r: real part of the complex number * @param s: imaginary part of the complex number * @return */ public static boolean isMandelbrotSet(double r, double s) { double a = r, b = s, temp; // Iterative function for (int j = 1; j \u0026lt;= dwellLimit; j++) { temp = a; a = Math.pow(a, 2) - Math.pow(b, 2) + r; b = (2 * temp * b) + s; if (Math.pow(a, 2) + Math.pow(b, 2) \u0026gt; 4) { return false; } } return true; } public static void main(String[] args) { long startTime = new Date().getTime(); long count = 0; for (int i = 0; i \u0026lt;= mcRep; i++) { if (isMandelbrotSet(random(), random())) { count++; } } System.out.println(\u0026quot;Input -\u0026gt; DwellLimit: \u0026quot; + dwellLimit + \u0026quot;, McRep: \u0026quot; + mcRep); System.out.println(\u0026quot;Area: \u0026quot; + ((double) (count * 16)) / mcRep); System.out.println(\u0026quot;Execution time: \u0026quot; + (new Date().getTime() - startTime) + \u0026quot; ms\u0026quot;); } }  Result:\nInput -\u0026gt; DwellLimit: 2048, McRep: 5000 Area: 1.5136 Execution time: 389 ms  R\nmonte.Carlo \u0026lt;- 5000 x \u0026lt;- runif(monte.Carlo, -2, 2) y \u0026lt;- runif(monte.Carlo, -2, 2) list \u0026lt;- numeric(monte.Carlo) for (j in 1:monte.Carlo){ list[j] \u0026lt;- if (inmandelbrotset(complex(real = x[j], imaginary = y[j]))) 1 else 0 } area\u0026lt;-mean(list)*16 # function that checks if a point E mandelbrot set inmandelbrotset \u0026lt;- function(c) { dwell.limit \u0026lt;- 2048 z \u0026lt;- 0 for (i in 1:dwell.limit) { z \u0026lt;- z ** 2 + c if (Mod(z) \u0026gt; 2) { return(FALSE) } } return(TRUE) }  ","date":"2013-01-02T10:01:09+05:45","permalink":"https://subedi.ml/posts/mandelbrot_area/","section":"posts","tags":["mandelbrot","java","monte carlo"],"title":"Area of the Mandelbrot Set"},{"categories":["Capstone Projects"],"contents":"The Faro Shuffle:  A Faro shuffle is probably one of the most intricate skills in an elite magician\u0026rsquo;s arsenal. Although it\u0026rsquo;s simple in concept, it is extremely difficult to perform and it typically needs years and years of practice. The idea of a shuffle is to randomize the cards, and since a typical shuffle is sloppy, that is usually true. However, a Faro shuffle is not random at all. In a perfect shuffle or a Faro shuffle the cards are divided exactly in half (top and bottom) and then interspersed alternately. Twenty one consecutive (out) Faro shuffles for a 50-card deck. However, it only takes eight consecutive Faro shuffles to bring a 52-card deck back to its original order. Interesting. Java: If the number of cards in the deck is 12,\npublic class outFaro { public static void main(String[] args) { // the number of card in the deck int numberofcardindeck = 12; // creating an array of cards int[] deck = new int[numberofcardindeck]; // printing the order of cards in original deck System.out.println(\u0026quot;Original deck\u0026quot;); for (int i = 0; i \u0026lt; numberofcardindeck; i++) { deck[i] = i + 1; System.out.print(deck[i] + \u0026quot; \u0026quot;); } System.out.println(); // dividing the cards in half int[] firsthalfdeck = new int[numberofcardindeck / 2]; int[] secondhalfdeck = new int[numberofcardindeck / 2]; // performing a (out) Faro shuffle for (int Faro = 1; Faro \u0026lt;= 50; Faro++) { for (int i = 0; i \u0026lt; numberofcardindeck / 2; i++) { firsthalfdeck[i] = deck[i]; secondhalfdeck[i] = deck[i + (numberofcardindeck / 2)]; } for (int i = 0; i \u0026lt; numberofcardindeck / 2; i++) { deck[2 * i] = firsthalfdeck[i]; deck[2 * i + 1] = secondhalfdeck[i]; } System.out.println(); System.out.println(\u0026quot;Order under Faro Shuffle: \u0026quot; + Faro); for (int i = 0; i \u0026lt; numberofcardindeck; i++) { System.out.print(deck[i] + \u0026quot; \u0026quot;); } // done when the second card comes back to its original position if (deck[1] == 2) { break; } } } }  Result:\nOriginal deck 1 2 3 4 5 6 7 8 9 10 11 12 Order under Faro Shuffle: 1 1 7 2 8 3 9 4 10 5 11 6 12 Order under Faro Shuffle: 2 1 4 7 10 2 5 8 11 3 6 9 12 Order under Faro Shuffle: 3 1 8 4 11 7 3 10 6 2 9 5 12 Order under Faro Shuffle: 4 1 10 8 6 4 2 11 9 7 5 3 12 Order under Faro Shuffle: 5 1 11 10 9 8 7 6 5 4 3 2 12 Order under Faro Shuffle: 6 1 6 11 5 10 4 9 3 8 2 7 12 Order under Faro Shuffle: 7 1 9 6 3 11 8 5 2 10 7 4 12 Order under Faro Shuffle: 8 1 5 9 2 6 10 3 7 11 4 8 12 Order under Faro Shuffle: 9 1 3 5 7 9 11 2 4 6 8 10 12 Order under Faro Shuffle: 10 1 2 3 4 5 6 7 8 9 10 11 12  After 10 out-Faro shuffles, the card returns to its original permutation. Therefore, 10 is the order of the permutation.\nThe table below shows number of cards in a deck and the number of out-Faro shuffles required to bring it back to its original permutation.\nThe definition of permutation and permutation group:\n“A permutation of a set A is a function from A to A that is both one-to-one and onto. A permutation group of a set A is a set of permutations of A that forms a group under function composition.”\nA Faro Shuffle is one-to-one and onto. At any frequency of the shuffle, every index (1-n) will have a unique card. Also, for every card, there is a unique index regardless of the frequency of the shuffle. The permutation for every “Number of cards” can be thought as a group under the operation - FaroShuffle. Also, since “Number of Faro Shuffles” returns us back to the original permutation, we can establish it as the order of the permutation group.\nTheorem: The order of a permutation of a finite set written in disjoint cycle form is the least common multiple of the lengths of the cycles.The order of a permutation of a finite set written in disjoint cycle form is the least common multiple of the lengths of the cycles.\nThis is one of the most important Group Theory Theorems. Let us consider a 52-card deck to demonstrate this. From the Java code, the order is 8 when n is 52. Instead of looking at disjoint cycle form of the permutation to figure out the order of each element, we can also look at every permutation the original permutation has been to before returning to the original permutation. For n = 52, the table below shows all the permutations.\nFrom the table above, order of 1 and 52 = 1, order of 18 and 35 = 2 and order of rest of the elements = 8 The L.C.M (1,2,8) = 8 is the order of the group according to the Theorem. This is also what we got from the Java code.\nConjectures / Proofs:\nIn-Faro and Out-Faro In an out-Faro shuffle, the top card from first half of the deck always remains on top. In an in-Faro shuffle, the top card from second half will be the new top card of the new shuffled deck.\nSince I did not have a deck of card with me, and I was bored, I wrote a very simple Android app to demonstrate in and out shuffle.\nGenerating a random deck with 4 cards. Notice that the Eight of Hearts is on top.\nOut-Faro 1: Eight of Hearts is on top.\nOut-Faro 2: Eight of Hearts is still on top and the deck is back in its original permutation. Therefore, order = 2.\nIn-Faro 1: Using the same deck, Eight of Hearts is no longer on top.\nIn-Faro 2: Again\u0026hellip;\nIn-Faro 3:\nIn-Faro 4: Back to its original order. Order = 4.\nMore screenshots:\nAnother reason for writing the app was to see the connection between Binary Number System and Faro Shuffle. I read somewhere that magicians and gamblers use this for their advantage.\nConsider a random eight card deck.\nNow, the trick is, to send the Queen of Clubs to say for example, 7th position in the deck (6 cards on top of it), the gambler would perform two in-Faros and one out-Faro. 6 in binary is 110; so, for digit 1, the magician would perform an in-Faro and for 0, an out-Faro.\n1st in-Faro:\n2nd in-Faro:\nout-Faro:\nQueen of Clubs is now in the 7th position. Also, its really interesting that this works irrespective of the number of cards in the deck.\nI also found that the order of (2n+2) out-Faro shuffle is equal to the order of (2n) in-Faro shuffles.\nI find that pretty interesting and I do not really see that to be obvious. It also implies that for no 2n, In-Faro=Out-Faro (I think). I will be investigating on these more later.\n\n","date":"2012-12-05T17:12:41+05:45","permalink":"https://subedi.ml/posts/faro_shuffle/","section":"posts","tags":["faro","java","group theory"],"title":"The Faro Shuffle"}]