<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Ayush Subedi  | Synthetic data based on pareto principle</title>
	<meta name="viewport" content="width=device-width,minimum-scale=1">
	<meta name="generator" content="Hugo 0.102.3" />
	
	
	<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
	

		
	<title>Ayush Subedi</title>
	<meta name="title" content="Ayush Subedi">
	<meta name="description" content="… personal journey with mathematics, software engineering and data science">

	
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://subedi.ml/">
	<meta property="og:title" content="Ayush Subedi">
	<meta property="og:description" content="… personal journey with mathematics, software engineering and data science">
	<meta property="og:image" content="https://subedi.ml/img/k.png">

	
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://subedi.ml/">
	<meta property="twitter:title" content="Ayush Subedi">
	<meta property="twitter:description" content="… personal journey with mathematics, software engineering and data science">
	<meta property="twitter:image" content="https://subedi.ml/img/k.png">

	
	
	<link href="/dist/app.css" rel="stylesheet">
	

	

	
	
<link rel="shortcut icon" href="/img/favicon.ico" type="image/png" />

	

	
	
	
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-177424799-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	
	
	



<link rel="stylesheet" href='https://ayushsubedi.github.io/lib/katex.min.css' integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src='https://ayushsubedi.github.io/lib/katex.min.js' integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>


<script defer src='https://ayushsubedi.github.io/lib/contrib/auto-render.min.js' integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
crossorigin="anonymous"
onload='renderMathInElement(document.body);'></script>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>

	
	
</head>

<body class="bg-gray-100 text-gray-700 font-sans">
	<div class="p-6 sm:p-10 md:p-16 flex flex-wrap">
		<header class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-1 md:order-1 max-w-2xl">
			<div
				class="z-50 bg-gray-100 bg-opacity-75 bg-opacity-custom lg:min-w-0.7 max-w-xl md:float-right md:text-right leading-loose tracking-tight md:sticky md:top-0 pt-2">
				
<div>
	<h2>
		<a href="https://ayushsubedi.github.io" title="Ayush Subedi" class="heading font-cursive icon">Ayush Subedi</a>
	</h2>
</div>
<h1 class="pt-2">Synthetic data based on pareto principle</h1>

<h3 class="text-java-700 font-normal leading-relaxed pt-2">Creating a synthetic dataset for users and users transactions that demonstrate the Pareto principle. Compulsory fields include basic demographic information, email address, phone number, item number and price.</h3>

<div class="flex flex-wrap justify-end pt-2 "><div class="md:flex-grow-0 font-light">
	
	
	
	
	<a class="post-taxonomy-category text-medium-red-violet-600 hover:text-medium-red-violet-400"
		href='/categories/moonlit'>moonlit</a>&nbsp;&#47;
	
	<a class="post-taxonomy-category text-medium-red-violet-600 hover:text-medium-red-violet-400"
		href='/categories/analytics'>analytics</a>
	
	
	

	
	&nbsp;&nbsp;
	

	
	
	
	
	<a class="post-taxonomy-tag text-eucalyptus-500"
		href='/tags/python'>python</a>&nbsp;&#47;
	
	<a class="post-taxonomy-tag text-eucalyptus-500"
		href='/tags/pareto'>pareto</a>&nbsp;&#47;
	
	<a class="post-taxonomy-tag text-eucalyptus-500"
		href='/tags/synthetic'>synthetic</a>
	
	
	
</div><time class="text-eucalyptus-500 md:text-right md:flex-grow font-light pl-4"
		datetime="2020-07-03">2020-07-03</time>
</div>

<hr />

			</div>
		</header>
		<main role="main" class="w-full md:w-3/5 xl:w-1/2 max-w-3xl order-2 md:order-2 min-h-70vh pt-2 pb-4">
			

<article>
	<section class="mx-auto content">
		<div class="c-rich-text"><h1 id="synthetic-data-based-on-pareto-principle">Synthetic data based on pareto principle</h1>
<p>Nowadays, the phrase &ldquo;data is the new oil&rdquo; seems a little cliche. However, it is true. The demand for data has grown significantly, as people and businesses have realized the possibilities of leveraging data for informed decision making. Often, it is not possible to get data to our specific needs. As a ML teacher, I have heard my students claim that it is really challenging for them to find data to their specifications for several of the projects that they want to pursue (in this case for learning data science or for school projects). In other cases, where confidentiality is crucial, the possibility of open data is minimal (anonamized data is there but that is another difficult avenue). Synthetic data can help solve these issues. Synthetic data is &ldquo;any production data applicable to a given situation that are not obtained by direct measurement&rdquo; according to the McGraw-Hill Dictionary of Scientific and Technical Terms. However, synthetic does not imply random. The patterns in synthetic data should mimic real world patterns. This is a priliminary exercise.</p>
<p><img src="https://www.teodesk.com/wp-content/uploads/2018/12/2.jpg" alt="Pareto"></p>
<h3 id="creating-a-synthetic-dataset-for-users-and-users-transactions-that-demonstrate-the-pareto-principle-compulsory-fields-include-basic-demographic-information-email-address-phone-number-item-number-and-price">Creating a synthetic dataset for users and users transactions that demonstrate the Pareto principle. Compulsory fields include basic demographic information, email address, phone number, item number and price.</h3>
<h2 id="imports">Imports</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np<span style="color:#f92672">,</span> numpy.random
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span></code></pre></div><h1 id="brute-force-solution">Brute Force Solution</h1>
<p>Brute Force Assumption: All ticket size the same, Customers only purchase once.</p>
<h3 id="create-a-naive-list-for-users">Create a naive list for users</h3>
<p>This will be modified to look real soon. In real world case, this can be thought of user/client table with incremental id.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># variables</span>
</span></span><span style="display:flex;"><span>final_dataframe_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span> <span style="color:#75715e"># in this case, these are the 1000 customers who have bought something.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Generate users</span>
</span></span><span style="display:flex;"><span>users <span style="color:#f92672">=</span> [x <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range (<span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">10000</span>)]
</span></span><span style="display:flex;"><span>users[:<span style="color:#ae81ff">10</span>]
</span></span></code></pre></div><pre><code>[1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># shuffle the original list</span>
</span></span><span style="display:flex;"><span>random<span style="color:#f92672">.</span>shuffle(users)
</span></span><span style="display:flex;"><span>users[:<span style="color:#ae81ff">10</span>]
</span></span></code></pre></div><pre><code>[8815, 2924, 6563, 3568, 3604, 6821, 1466, 9813, 3153, 6637]
</code></pre>
<h4 id="sampling-random-1000-users-who-have-transacted-this-is-because-of-the-assumption-that-not-every-user-will-have-transacted">Sampling random 1000 users who have transacted. This is because of the assumption that not every user will have transacted.</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>tran_users <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>sample(users, final_dataframe_size)
</span></span><span style="display:flex;"><span>print (len(tran_users))
</span></span><span style="display:flex;"><span>print (tran_users[:<span style="color:#ae81ff">10</span>])
</span></span></code></pre></div><pre><code>1000
[6113, 5352, 4711, 2600, 5643, 3009, 7765, 7301, 1399, 2336]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pareto_tran_users <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>sample(tran_users, int(<span style="color:#ae81ff">.2</span> <span style="color:#f92672">*</span> final_dataframe_size))
</span></span><span style="display:flex;"><span>len(pareto_tran_users)
</span></span></code></pre></div><pre><code>200
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;user&#39;</span>: tran_users})
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>6113</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5352</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4711</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2600</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5643</td>
    </tr>
  </tbody>
</table>
</div>
<p>If the sum of all transactions is 100000,</p>
<p>pareto users = 0.8*100000 = 80000 to be divided into 200 users, each user gets = 400</p>
<p>non pareto users = .2*100000 = 20000 to be divided into 800 users, each user gets = 25</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">assign_amount</span>(val):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> val <span style="color:#f92672">in</span> pareto_tran_users:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">400</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">25</span>
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;transaction&#39;</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>user<span style="color:#f92672">.</span>apply(assign_amount)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># validate pareto</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>sort_values(<span style="color:#e6db74">&#39;transaction&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>head(int(<span style="color:#ae81ff">.2</span> <span style="color:#f92672">*</span> final_dataframe_size))<span style="color:#f92672">.</span>sum()<span style="color:#f92672">/</span>df<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>user           0.20033
transaction    0.80000
dtype: float64
</code></pre>
<p>Here we see 20 percen generating 80 percent of the revenue.</p>
<h2 id="improvement-1">Improvement 1</h2>
<h3 id="make-the-sales-figure--more-dynamic-instead-of-25-and-400">Make the sales figure  more dynamic (instead of 25 and 400)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sum_to_x</span>(n, x):
</span></span><span style="display:flex;"><span>    values <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.0</span>, x] <span style="color:#f92672">+</span> list(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>uniform(low<span style="color:#f92672">=</span><span style="color:#ae81ff">0.0</span>,high<span style="color:#f92672">=</span>x,size<span style="color:#f92672">=</span>n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>    values<span style="color:#f92672">.</span>sort()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> [values[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> values[i] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n)]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>copy()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2_p <span style="color:#f92672">=</span> df2[df2<span style="color:#f92672">.</span>user<span style="color:#f92672">.</span>isin(pareto_tran_users)]
</span></span><span style="display:flex;"><span>df2_p_n <span style="color:#f92672">=</span> df2[<span style="color:#f92672">~</span>df2<span style="color:#f92672">.</span>user<span style="color:#f92672">.</span>isin(pareto_tran_users)]
</span></span><span style="display:flex;"><span><span style="color:#75715e"># .apply(sum_to_x(20000, 80000))</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2_p[<span style="color:#e6db74">&#39;transaction&#39;</span>] <span style="color:#f92672">=</span> sum_to_x(<span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">80000</span>)
</span></span><span style="display:flex;"><span>df2_p_n[<span style="color:#e6db74">&#39;transaction&#39;</span>] <span style="color:#f92672">=</span> sum_to_x(<span style="color:#ae81ff">800</span>, <span style="color:#ae81ff">20000</span>)
</span></span><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> df2_p<span style="color:#f92672">.</span>append(df2_p_n)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user</th>
      <th>transaction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>5643</td>
      <td>271.252382</td>
    </tr>
    <tr>
      <th>16</th>
      <td>1403</td>
      <td>64.145236</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2671</td>
      <td>150.894671</td>
    </tr>
    <tr>
      <th>27</th>
      <td>1881</td>
      <td>3.295457</td>
    </tr>
    <tr>
      <th>29</th>
      <td>4574</td>
      <td>129.600777</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>991</th>
      <td>7792</td>
      <td>58.155219</td>
    </tr>
    <tr>
      <th>992</th>
      <td>4682</td>
      <td>18.239724</td>
    </tr>
    <tr>
      <th>994</th>
      <td>5986</td>
      <td>4.711870</td>
    </tr>
    <tr>
      <th>996</th>
      <td>8145</td>
      <td>0.914484</td>
    </tr>
    <tr>
      <th>998</th>
      <td>4102</td>
      <td>20.064127</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 2 columns</p>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>user           5553121.0
transaction     100000.0
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># validate pareto</span>
</span></span><span style="display:flex;"><span>df2<span style="color:#f92672">.</span>sort_values(<span style="color:#e6db74">&#39;transaction&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">200</span>)<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x: <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> x)
</span></span></code></pre></div><pre><code>user           1136745.000
transaction      82287.864
dtype: object
</code></pre>
<h2 id="upload-some-data">Upload some data</h2>
<h4 id="to-make-the-data-more-realistic-we-can-add-more-features-in-this-case-mockaroo-was-used-to-create-the-features">To make the data more realistic, we can add more features. In this case, mockaroo was used to create the features.</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_users <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;synthetic_users.csv&#39;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_users<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>first_name</th>
      <th>last_name</th>
      <th>email</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Gage</td>
      <td>Opdenorth</td>
      <td>gopdenorth1@hugedomains.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Raquel</td>
      <td>Gabriel</td>
      <td>rgabriel2@studiopress.com</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Matti</td>
      <td>Sullly</td>
      <td>msullly3@soundcloud.com</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Zita</td>
      <td>Doggart</td>
      <td>zdoggart4@ftc.gov</td>
      <td>Female</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="the-client-table-seems-complete-let-us-create-an-item-table-which-follows-normal-distribution">The client table seems complete. Let us create an item table which follows normal distribution.</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_items <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;synthetic_items_catalog.csv&#39;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_items<span style="color:#f92672">.</span>drop_duplicates(subset<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;product&#39;</span>], keep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;first&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_items[<span style="color:#e6db74">&#39;id&#39;</span>] <span style="color:#f92672">=</span> df_items[<span style="color:#e6db74">&#39;id&#39;</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1000</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_items
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>product</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1001</td>
      <td>Bread Ww Cluster</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1002</td>
      <td>Glove - Cutting</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1003</td>
      <td>Ice Cream - Super Sandwich</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1004</td>
      <td>Wine - Chateau Bonnet</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1005</td>
      <td>Ecolab - Ster Bac</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>992</th>
      <td>1993</td>
      <td>Table Cloth 53x53 White</td>
    </tr>
    <tr>
      <th>993</th>
      <td>1994</td>
      <td>Durian Fruit</td>
    </tr>
    <tr>
      <th>995</th>
      <td>1996</td>
      <td>Chinese Foods - Plain Fried Rice</td>
    </tr>
    <tr>
      <th>996</th>
      <td>1997</td>
      <td>Wine - White, Ej Gallo</td>
    </tr>
    <tr>
      <th>998</th>
      <td>1999</td>
      <td>Sugar - Fine</td>
    </tr>
  </tbody>
</table>
<p>836 rows × 2 columns</p>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>prices <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>normal(<span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">836</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_items[<span style="color:#e6db74">&#39;prices&#39;</span>] <span style="color:#f92672">=</span> prices
</span></span><span style="display:flex;"><span>df_items[<span style="color:#e6db74">&#39;prices&#39;</span>] <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>where(df_items[<span style="color:#e6db74">&#39;prices&#39;</span>] <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> , <span style="color:#ae81ff">2.0</span>, df_items[<span style="color:#e6db74">&#39;prices&#39;</span>])
</span></span><span style="display:flex;"><span>df_items[<span style="color:#e6db74">&#39;prices&#39;</span>] <span style="color:#f92672">=</span> round(df_items[<span style="color:#e6db74">&#39;prices&#39;</span>])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_items<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>prices</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>836.000000</td>
      <td>836.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1469.366029</td>
      <td>50.340909</td>
    </tr>
    <tr>
      <th>std</th>
      <td>285.036373</td>
      <td>20.400653</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1001.000000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1220.500000</td>
      <td>36.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1460.500000</td>
      <td>50.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1710.250000</td>
      <td>64.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1999.000000</td>
      <td>120.000000</td>
    </tr>
  </tbody>
</table>
</div>
<p>Now we have users and product table. The product table consists of items that are uniformly distributed.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>normal(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><pre><code>array([ 0.7365823 ,  0.18626006, -0.10850225, -0.8307533 ,  0.18490917,
        0.51846682, -1.20012347,  0.31953487, -0.12546108,  0.75146225])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">## Could not figure out how to generate normal distribution frame, </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## so opting out for uniform distribution</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># weights_users = np.random.normal(1000, 1000, len(df_users.id))</span>
</span></span><span style="display:flex;"><span>weights_items <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>normal(<span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">1000</span>, len(df_items<span style="color:#f92672">.</span>id))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tran_user <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>choices(random<span style="color:#f92672">.</span>sample(list(df_users<span style="color:#f92672">.</span>id), <span style="color:#ae81ff">268</span>), k<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>tran_items <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>choices(list(df_items<span style="color:#f92672">.</span>id), weights <span style="color:#f92672">=</span> weights_items, k<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame<span style="color:#f92672">.</span>from_dict({<span style="color:#e6db74">&#39;user_id&#39;</span>: tran_user, <span style="color:#e6db74">&#39;item_id&#39;</span>: tran_items})\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;item_id&#39;</span>)\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>join(df_items<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;id&#39;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df_ <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;user_id&#39;</span>)[[<span style="color:#e6db74">&#39;prices&#39;</span>]]<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>prices</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>268.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1889.985075</td>
    </tr>
    <tr>
      <th>std</th>
      <td>343.707196</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1161.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1649.750000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1896.500000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2114.500000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2860.000000</td>
    </tr>
  </tbody>
</table>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># validate pareto</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># regardless of transaction table, hamro users 200 jana</span>
</span></span><span style="display:flex;"><span>df_<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>(df_<span style="color:#f92672">.</span>sort_values(<span style="color:#e6db74">&#39;prices&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">200</span>)<span style="color:#f92672">.</span>sum())<span style="color:#f92672">/</span>df_<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>user_id    0.732714
prices     0.803493
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>merged <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>reset_index()\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;user_id&#39;</span>)\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>join(df_users<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;id&#39;</span>), how<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;outer&#39;</span>)\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>reset_index()\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;index&#39;</span>:<span style="color:#e6db74">&#39;product_id&#39;</span>, <span style="color:#e6db74">&#39;level_0&#39;</span>: <span style="color:#e6db74">&#39;user_id&#39;</span>})
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>merged
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user_id</th>
      <th>product_id</th>
      <th>product</th>
      <th>prices</th>
      <th>first_name</th>
      <th>last_name</th>
      <th>email</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1013.0</td>
      <td>Shrimp - Black Tiger 13/15</td>
      <td>78.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1025.0</td>
      <td>Longos - Lasagna Veg</td>
      <td>48.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1032.0</td>
      <td>Wine - Pinot Grigio Collavini</td>
      <td>54.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1067.0</td>
      <td>Shiro Miso</td>
      <td>85.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1073.0</td>
      <td>Pea - Snow</td>
      <td>69.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10727</th>
      <td>1000</td>
      <td>1866.0</td>
      <td>Figs</td>
      <td>56.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>10728</th>
      <td>1000</td>
      <td>1902.0</td>
      <td>Wine - Harrow Estates, Vidal</td>
      <td>62.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>10729</th>
      <td>1000</td>
      <td>1924.0</td>
      <td>Pancetta</td>
      <td>25.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>10730</th>
      <td>1000</td>
      <td>1933.0</td>
      <td>Vodka - Smirnoff</td>
      <td>23.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>10731</th>
      <td>1000</td>
      <td>1994.0</td>
      <td>Durian Fruit</td>
      <td>51.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
<p>10732 rows × 8 columns</p>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>merged<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;user_id&#39;</span>)[[<span style="color:#e6db74">&#39;prices&#39;</span>]]<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>sort_values(<span style="color:#e6db74">&#39;prices&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">200</span>)<span style="color:#f92672">.</span>sum()<span style="color:#f92672">/</span>merged[<span style="color:#e6db74">&#39;prices&#39;</span>]<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>prices    0.803493
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>merged<span style="color:#f92672">.</span>to_csv(<span style="color:#e6db74">&#39;merged.csv&#39;</span>, index<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>df_users<span style="color:#f92672">.</span>to_csv(<span style="color:#e6db74">&#39;users.csv&#39;</span>, index<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>df_items<span style="color:#f92672">.</span>to_csv(<span style="color:#e6db74">&#39;items.csv&#39;</span>, index<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>merged
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user_id</th>
      <th>product_id</th>
      <th>product</th>
      <th>prices</th>
      <th>first_name</th>
      <th>last_name</th>
      <th>email</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1013.0</td>
      <td>Shrimp - Black Tiger 13/15</td>
      <td>78.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1025.0</td>
      <td>Longos - Lasagna Veg</td>
      <td>48.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1032.0</td>
      <td>Wine - Pinot Grigio Collavini</td>
      <td>54.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1067.0</td>
      <td>Shiro Miso</td>
      <td>85.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1073.0</td>
      <td>Pea - Snow</td>
      <td>69.0</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10727</th>
      <td>1000</td>
      <td>1866.0</td>
      <td>Figs</td>
      <td>56.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>10728</th>
      <td>1000</td>
      <td>1902.0</td>
      <td>Wine - Harrow Estates, Vidal</td>
      <td>62.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>10729</th>
      <td>1000</td>
      <td>1924.0</td>
      <td>Pancetta</td>
      <td>25.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>10730</th>
      <td>1000</td>
      <td>1933.0</td>
      <td>Vodka - Smirnoff</td>
      <td>23.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>10731</th>
      <td>1000</td>
      <td>1994.0</td>
      <td>Durian Fruit</td>
      <td>51.0</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
<p>10732 rows × 8 columns</p>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_users
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>first_name</th>
      <th>last_name</th>
      <th>email</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Pierette</td>
      <td>Deners</td>
      <td>pdeners0@1und1.de</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Gage</td>
      <td>Opdenorth</td>
      <td>gopdenorth1@hugedomains.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Raquel</td>
      <td>Gabriel</td>
      <td>rgabriel2@studiopress.com</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Matti</td>
      <td>Sullly</td>
      <td>msullly3@soundcloud.com</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Zita</td>
      <td>Doggart</td>
      <td>zdoggart4@ftc.gov</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>996</td>
      <td>Web</td>
      <td>Beauly</td>
      <td>wbeaulyrn@drupal.org</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>996</th>
      <td>997</td>
      <td>Joachim</td>
      <td>Silber</td>
      <td>jsilberro@cam.ac.uk</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>997</th>
      <td>998</td>
      <td>Kearney</td>
      <td>Huntly</td>
      <td>khuntlyrp@hud.gov</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>998</th>
      <td>999</td>
      <td>Robb</td>
      <td>Eads</td>
      <td>readsrq@sfgate.com</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>999</th>
      <td>1000</td>
      <td>Hillery</td>
      <td>Dickings</td>
      <td>hdickingsrr@gizmodo.com</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 5 columns</p>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df_items
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>product</th>
      <th>prices</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1001</td>
      <td>Bread Ww Cluster</td>
      <td>55.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1002</td>
      <td>Glove - Cutting</td>
      <td>34.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1003</td>
      <td>Ice Cream - Super Sandwich</td>
      <td>26.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1004</td>
      <td>Wine - Chateau Bonnet</td>
      <td>52.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1005</td>
      <td>Ecolab - Ster Bac</td>
      <td>46.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>992</th>
      <td>1993</td>
      <td>Table Cloth 53x53 White</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>993</th>
      <td>1994</td>
      <td>Durian Fruit</td>
      <td>51.0</td>
    </tr>
    <tr>
      <th>995</th>
      <td>1996</td>
      <td>Chinese Foods - Plain Fried Rice</td>
      <td>23.0</td>
    </tr>
    <tr>
      <th>996</th>
      <td>1997</td>
      <td>Wine - White, Ej Gallo</td>
      <td>57.0</td>
    </tr>
    <tr>
      <th>998</th>
      <td>1999</td>
      <td>Sugar - Fine</td>
      <td>84.0</td>
    </tr>
  </tbody>
</table>
<p>836 rows × 3 columns</p>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"></code></pre></div></div>
	</section>

</article>

		</main>
		<aside role="contentinfo"
			class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-4 md:order-3 md:sticky md:bottom-0 self-end max-w-2xl">
			<div class="md:float-right md:text-right leading-loose tracking-tight md:mb-2">
				
	<div class="md:max-w-xs  flex flex-col md:items-end">
	<ul class="font-serif flex-grow-0 flex justify-between flex-wrap md:flex-col">
	
	
	<li class="px-1 md:px-0">
		<a href="/posts/" title="Posts page" 
			class="font-medium text-medium-red-violet-600 hover:text-medium-red-violet-400" >
			Posts
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/resume/" title="Resume page" >
			Resume
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/certifications/" title="Certifications page" >
			Certifications
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/publications/" title="Publications page" >
			Publications
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/ml_glossary/" title="ML Glossary page" >
			ML Glossary
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/tags/" title="Tags page" >
			Tags
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/categories/" title="Categories page" >
			Categories
		</a>
	</li>
	
	
	
	
	<div id="fastSearch" class="m-0">
		<input id="searchInput" type="text" size=10 
			class="bg-gray-100 focus:outline-none border-b border-gray-100 focus:border-eucalyptus-300 md:text-right
			placeholder-java-500 min-w-0 max-w-xxxs"
			placeholder="search" />
		<ul id="searchResults" class="bg-gray-200 px-2 divide-y divide-gray-400">
		</ul>
	</div>
	
</ul>
	

<div class="flex flex-wrap-reverse md:justify-end content-end md:content-start justify-start items-start md:flex-col  max-h-16">
	
	<a href='https://github.com/ayushsubedi' target="_blank" class="github icon pl-1 text-eucalyptus-400 hover:text-java-400" title="github link" rel="noopener"
		aria-label="follow on github——Opens in a new window">
		
		<div class="fill-current h-8 w-8">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <g>
        <path fill="none" d="M0 0h24v24H0z"/>
        <path fill-rule="nonzero" d="M5.883 18.653c-.3-.2-.558-.455-.86-.816a50.32 50.32 0 0 1-.466-.579c-.463-.575-.755-.84-1.057-.949a1 1 0 0 1 .676-1.883c.752.27 1.261.735 1.947 1.588-.094-.117.34.427.433.539.19.227.33.365.44.438.204.137.587.196 1.15.14.023-.382.094-.753.202-1.095C5.38 15.31 3.7 13.396 3.7 9.64c0-1.24.37-2.356 1.058-3.292-.218-.894-.185-1.975.302-3.192a1 1 0 0 1 .63-.582c.081-.024.127-.035.208-.047.803-.123 1.937.17 3.415 1.096A11.731 11.731 0 0 1 12 3.315c.912 0 1.818.104 2.684.308 1.477-.933 2.613-1.226 3.422-1.096.085.013.157.03.218.05a1 1 0 0 1 .616.58c.487 1.216.52 2.297.302 3.19.691.936 1.058 2.045 1.058 3.293 0 3.757-1.674 5.665-4.642 6.392.125.415.19.879.19 1.38a300.492 300.492 0 0 1-.012 2.716 1 1 0 0 1-.019 1.958c-1.139.228-1.983-.532-1.983-1.525l.002-.446.005-.705c.005-.708.007-1.338.007-1.998 0-.697-.183-1.152-.425-1.36-.661-.57-.326-1.655.54-1.752 2.967-.333 4.337-1.482 4.337-4.66 0-.955-.312-1.744-.913-2.404a1 1 0 0 1-.19-1.045c.166-.414.237-.957.096-1.614l-.01.003c-.491.139-1.11.44-1.858.949a1 1 0 0 1-.833.135A9.626 9.626 0 0 0 12 5.315c-.89 0-1.772.119-2.592.35a1 1 0 0 1-.83-.134c-.752-.507-1.374-.807-1.868-.947-.144.653-.073 1.194.092 1.607a1 1 0 0 1-.189 1.045C6.016 7.89 5.7 8.694 5.7 9.64c0 3.172 1.371 4.328 4.322 4.66.865.097 1.201 1.177.544 1.748-.192.168-.429.732-.429 1.364v3.15c0 .986-.835 1.725-1.96 1.528a1 1 0 0 1-.04-1.962v-.99c-.91.061-1.662-.088-2.254-.485z"/>
    </g>
</svg>

		</div>
	</a>
	
	<a href='https://www.instagram.com/ayushsube/' target="_blank" class="instagram icon pl-1 text-eucalyptus-400 hover:text-java-400" title="instagram link" rel="noopener"
		aria-label="follow on instagram——Opens in a new window">
		
		<div class="fill-current h-8 w-8">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <g>
        <path fill="none" d="M0 0h24v24H0z"/>
        <path fill-rule="nonzero" d="M12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm0-2a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm6.5-.25a1.25 1.25 0 0 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM12 4c-2.474 0-2.878.007-4.029.058-.784.037-1.31.142-1.798.332-.434.168-.747.369-1.08.703a2.89 2.89 0 0 0-.704 1.08c-.19.49-.295 1.015-.331 1.798C4.006 9.075 4 9.461 4 12c0 2.474.007 2.878.058 4.029.037.783.142 1.31.331 1.797.17.435.37.748.702 1.08.337.336.65.537 1.08.703.494.191 1.02.297 1.8.333C9.075 19.994 9.461 20 12 20c2.474 0 2.878-.007 4.029-.058.782-.037 1.309-.142 1.797-.331.433-.169.748-.37 1.08-.702.337-.337.538-.65.704-1.08.19-.493.296-1.02.332-1.8.052-1.104.058-1.49.058-4.029 0-2.474-.007-2.878-.058-4.029-.037-.782-.142-1.31-.332-1.798a2.911 2.911 0 0 0-.703-1.08 2.884 2.884 0 0 0-1.08-.704c-.49-.19-1.016-.295-1.798-.331C14.925 4.006 14.539 4 12 4zm0-2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153a4.908 4.908 0 0 1 1.153 1.772c.247.637.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.218 1.79-.465 2.428a4.883 4.883 0 0 1-1.153 1.772 4.915 4.915 0 0 1-1.772 1.153c-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.218-2.428-.465a4.89 4.89 0 0 1-1.772-1.153 4.904 4.904 0 0 1-1.153-1.772c-.248-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428a4.88 4.88 0 0 1 1.153-1.772A4.897 4.897 0 0 1 5.45 2.525c.638-.248 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2z"/>
    </g>
</svg>

		</div>
	</a>
	
	<a href='https://www.linkedin.com/in/ayush-subedi/' target="_blank" class="linkedin icon pl-1 text-eucalyptus-400 hover:text-java-400" title="linkedin link" rel="noopener"
		aria-label="follow on linkedin——Opens in a new window">
		
		<div class="fill-current h-8 w-8">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <g>
        <path fill="none" d="M0 0h24v24H0z"/>
        <path d="M12 9.55C12.917 8.613 14.111 8 15.5 8a5.5 5.5 0 0 1 5.5 5.5V21h-2v-7.5a3.5 3.5 0 0 0-7 0V21h-2V8.5h2v1.05zM5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-1 2h2V21H4V8.5z"/>
    </g>
</svg>

		</div>
	</a>
	
	<a href='mailto:ayush.subedi@gmail.com' target="_blank" class="mail icon pl-1 text-eucalyptus-400 hover:text-java-400" title="mail link" rel="noopener"
		aria-label="follow on mail——Opens in a new window">
		
		<div class="fill-current h-8 w-8">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <g>
        <path fill="none" d="M0 0h24v24H0z"/>
        <path d="M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm17 4.238l-7.928 7.1L4 7.216V19h16V7.238zM4.511 5l7.55 6.662L19.502 5H4.511z"/>
    </g>
</svg>
		</div>
	</a>
	
	<a href='https://public.tableau.com/app/profile/ayush3339' target="_blank" class="tableau icon pl-1 text-eucalyptus-400 hover:text-java-400" title="tableau link" rel="noopener"
		aria-label="follow on tableau——Opens in a new window">
		
		<div class="fill-current h-8 w-8">
			<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2 13H8V21H2V13ZM9 3H15V21H9V3ZM16 8H22V21H16V8Z"/></svg>
		</div>
	</a>
	
	<a href='https://twitter.com/ayushsubs' target="_blank" class="twitter icon pl-1 text-eucalyptus-400 hover:text-java-400" title="twitter link" rel="noopener"
		aria-label="follow on twitter——Opens in a new window">
		
		<div class="fill-current h-8 w-8">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <g>
        <path fill="none" d="M0 0h24v24H0z"/>
        <path fill-rule="nonzero" d="M15.3 5.55a2.9 2.9 0 0 0-2.9 2.847l-.028 1.575a.6.6 0 0 1-.68.583l-1.561-.212c-2.054-.28-4.022-1.226-5.91-2.799-.598 3.31.57 5.603 3.383 7.372l1.747 1.098a.6.6 0 0 1 .034.993L7.793 18.17c.947.059 1.846.017 2.592-.131 4.718-.942 7.855-4.492 7.855-10.348 0-.478-1.012-2.141-2.94-2.141zm-4.9 2.81a4.9 4.9 0 0 1 8.385-3.355c.711-.005 1.316.175 2.669-.645-.335 1.64-.5 2.352-1.214 3.331 0 7.642-4.697 11.358-9.463 12.309-3.268.652-8.02-.419-9.382-1.841.694-.054 3.514-.357 5.144-1.55C5.16 15.7-.329 12.47 3.278 3.786c1.693 1.977 3.41 3.323 5.15 4.037 1.158.475 1.442.465 1.973.538z"/>
    </g>
</svg>

		</div>
	</a>
	
</div>
	<div class="text-sm text-gray-500 leading-tight a-gray">
		
		<br />
		1363 words in this page.
	</div>
</div>

			</div>
		</aside>
		<footer class="w-full md:w-3/5 xl:w-1/2 order-3 max-w-3xl md:order-4 pt-2">
			
<hr class="" />
<div class="flex flex-wrap justify-between pb-2 leading-loose font-serif">
    
    <a class="flex-grow-0" href="/posts/bezos/">
        <svg class="fill-current inline-block h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
            height="24">
            <path fill="none" d="M0 0h24v24H0z" />
            <path d="M7.828 11H20v2H7.828l5.364 5.364-1.414 1.414L4 12l7.778-7.778 1.414 1.414z" /></svg>
        You vs Bezos - Weber Fencher law
    </a>
    
    
    <a class="flex-grow-0" href="/posts/k_shaped_recovery/">
        K-Shaped recovery
        <svg class="fill-current inline-block h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
            height="24">
            <path fill="none" d="M0 0h24v24H0z" />
            <path d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z" /></svg></a>
    
</div>
<div >



<div class="font-serif pb-2 flex align-start leading-loose">
	<span class="heading pr-6 leading-loose">Related</span>
	<span >
		
			<a href="/posts/cheers_analysis/">Cheers Hospital Analysis</a>&nbsp;&nbsp;&#47;&nbsp;
		
			<a href="/posts/spirathon/">Spirathon AI Conference 2019</a>&nbsp;&nbsp;&#47;&nbsp;
		
			<a href="/posts/fraud_detection/">Fraud Detection</a>&nbsp;&nbsp;&#47;&nbsp;
		
			<a href="/posts/torpe/">Torpe Blockchain</a>&nbsp;&nbsp;&#47;&nbsp;
		
			<a href="/posts/inclusive_newspaper/">Inclusive Nepal</a>&nbsp;&nbsp;&#47;&nbsp;
		
			<a href="/posts/seedstars/">Startup analysis using Seedstars data</a>&nbsp;&nbsp;&#47;&nbsp;
		
			<a href="/posts/bird_plane_superman/">Birds, Plane, Superman</a>&nbsp;&nbsp;&#47;&nbsp;
		
			<a href="/posts/diffie_hellman/">Diffie-Hellman key exchange (and AES-256)</a>&nbsp;&nbsp;&#47;&nbsp;
		
			<a href="/posts/rsa_encryption/">RSA encryption</a>
		
</span>
</div>

</div>
<hr />
<div class="pb-2">
    
</div>
<hr />

		</footer>
		

<script src="/dist/app.js"></script>


<script src="/lib/fuse.min.js"></script> 
<script src="/lib/fastsearch.js"></script>

	</div>
</body>

</html>